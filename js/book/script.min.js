function makePageNum(e,t){return e+1+" / "+Math.ceil(t.length/8==0?1:Math.ceil(t.length/8))}function firstBtn(){let e=this.parentNode.siblings();displayPage(e,0),this.parentNode.getElementsByClassName("book-pagenum")[0].innerText=makePageNum(0,e)}function previousBtn(){let e=this.parentNode.siblings(),t=this.parentNode.getElementsByClassName("book-pagenum")[0].innerText;t=t.substr(0,t.indexOf("/")-1),t=parseInt(t,8)-1,t>0&&t--,displayPage(e,t),this.parentNode.getElementsByClassName("book-pagenum")[0].innerText=makePageNum(t,e)}function nextBtn(){let e=this.parentNode.siblings(),t=this.parentNode.getElementsByClassName("book-pagenum")[0].innerText;t=t.substr(0,t.indexOf("/")-1),t=parseInt(t,8)-1,t<Math.ceil(e.length/8)-1&&t++,displayPage(e,t),this.parentNode.getElementsByClassName("book-pagenum")[0].innerText=makePageNum(t,e)}function lastBtn(){let e=this.parentNode.siblings();displayPage(e,Math.ceil(e.length/8)-1),this.parentNode.getElementsByClassName("book-pagenum")[0].innerText=makePageNum(Math.ceil(e.length/8)-1==-1?0:Math.ceil(e.length/8)-1,e)}function displayPage(e,t){for(let n=0;n<e.length;n++)Math.floor(n/8)===t?e[n].classList.remove("book-hide"):e[n].classList.add("book-hide")}function initPagination(){let e=document.getElementsByClassName("book-firstpage"),t=document.getElementsByClassName("book-previouspage"),n=document.getElementsByClassName("book-nextpage"),a=document.getElementsByClassName("book-lastpage"),s=document.getElementsByClassName("book-pagenum");for(let i=0;i<e.length;i++){e[i].onclick=firstBtn,t[i].onclick=previousBtn,n[i].onclick=nextBtn,a[i].onclick=lastBtn;let l=s[i].parentNode.siblings().length;s[i].innerText="1 / "+(0===Math.ceil(l/8)?1:Math.ceil(l/8)),e[i].click()}}Element.prototype.siblings=function(){let e=[],t=this.parentNode.querySelectorAll(".book_item");for(let n=0;n<t.length;n++)t[n]!==this&&e.push(t[n]);return e},document.addEventListener("DOMContentLoaded",function(){initPagination()},!1);