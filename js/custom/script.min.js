function authorInfoSayhi(){var e=()=>{var e=new Date,t=e.getHours(),o="";return t>=0&&t<=5?o="晚安":t>5&&t<=10?o="早上好":t>10&&t<=14?o="中午好":t>14&&t<=18?o="下午好":t>18&&t<=24&&(o="晚上好"),o};document.querySelector("#author-info__sayhi")&&(document.getElementById("author-info__sayhi").innerHTML=e()+"！我是")}function switchCommentBarrage(){let e=window.localStorage.getItem("commentBarrageDisplay");document.getElementById("comment-barrage").style.display="false"===e?"block":"none",window.localStorage.setItem("commentBarrageDisplay","false"===e?"undefined":"false",864e5)}function switchNightMode(){document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>'),setTimeout(function(){document.querySelector("body").classList.contains("DarkMode")?(document.querySelector("body").classList.remove("DarkMode"),localStorage.setItem("isDark","0"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon")):(document.querySelector("body").classList.add("DarkMode"),localStorage.setItem("isDark","1"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun")),setTimeout(function(){document.getElementsByClassName("Cuteen_DarkSky")[0].style.transition="opacity 3s",document.getElementsByClassName("Cuteen_DarkSky")[0].style.opacity="0",setTimeout(function(){document.getElementsByClassName("Cuteen_DarkSky")[0].remove()},1e3)},2e3)});const e="dark"===document.documentElement.getAttribute("data-theme")?"dark":"light";"light"===e?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night),document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun")):(activateLightMode(),saveToLocal.set("theme","light",2),document.querySelector("body").classList.add("DarkMode"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon")),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout(()=>window.disqusReset(),200)}function page_title(){document.getElementById("page-name-text").style.display="/"===window.location.pathname||/^\/page\/[0-9]+\//.test(window.location.pathname),document.querySelector("#page-name-text").innerHTML=GLOBAL_CONFIG_SITE.title}function randomPost(){fetch("/sitemap.xml").then(e=>e.text()).then(e=>(new window.DOMParser).parseFromString(e,"text/xml")).then(e=>{let t,o,n=e.querySelectorAll("url loc");do{t=n[Math.floor(Math.random()*n.length)].innerHTML,o=t.split("/")[3]||""}while("posts"!==o);location.href=t})}function browserTC(){btf.snackbarShow(""),Snackbar.show({text:"浏览器版本较低，网站样式可能错乱",actionText:"关闭",duration:"6000",pos:"bottom-right"})}function browserVersion(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,o=(e.indexOf("Trident")>-1&&e.indexOf("rv:11.0"),e.indexOf("Edge")>-1&&!t),n=e.indexOf("Firefox")>-1,i=e.indexOf("Opera")>-1||e.indexOf("OPR")>-1,r=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1&&-1==e.indexOf("Edge")&&-1==e.indexOf("OPR");e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome")&&-1==e.indexOf("Edge")&&e.indexOf("OPR");o?e.split("Edge/")[1].split(".")[0]<90&&browserTC():n?e.split("Firefox/")[1].split(".")[0]<90&&browserTC():i?e.split("OPR/")[1].split(".")[0]<80&&browserTC():r&&e.split("Chrome/")[1].split(".")[0]<90&&browserTC()}function setCookies(e,t){let o=new Date((new Date).getTime()+24*t*60*60*1e3).toGMTString();for(let t in e)document.cookie=t+"="+e[t]+";expires="+o}function getCookie(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?unescape(t[2]):null}authorInfoSayhi();var titleTime,OriginTitile=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="w(ﾟДﾟ)w 不要走！再看看嘛！",clearTimeout(titleTime)):(document.title="♪(^∇^*)欢迎肥来！"+OriginTitile,titleTime=setTimeout(function(){document.title=OriginTitile},2e3))}),window.onscroll=page_title,1!=getCookie("browsertc")&&(setCookies({browsertc:1},1),browserVersion());var ll={switchThemeColor:function([e,t,o]){document.documentElement.style.setProperty("--r",e),document.documentElement.style.setProperty("--g",t),document.documentElement.style.setProperty("--b",o),document.documentElement.style.setProperty("--second",.299*e+.587*t+.114*o>=192?"#000":"#FFF"),document.documentElement.style.setProperty("--cover-text",.299*e+.587*t+.114*o>=192?"#4C4948":"#EEE")},getMainColor:function(e="#ea517f"){let t=[parseInt("0x"+e.slice(1,3)),parseInt("0x"+e.slice(3,5)),parseInt("0x"+e.slice(5,7))];if(document.getElementById("post-top-bg"))try{t=(new ColorThief).getColor(document.getElementById("post-top-bg"))}catch(e){console.log(e)}return t}};ll.switchThemeColor(ll.getMainColor());