function setTime(t,e){var n=Date.parse(new Date),a=t,s=e,o=Date.parse(new Date(a)),r=Math.abs(parseInt((o-n)/1e3/3600/24/30/12)),i=Math.abs(parseInt((o-n)/1e3/3600/24/30)),c=Math.abs(parseInt((o-n)/1e3/3600/24)),l=Math.abs(parseInt((o-n)/1e3/3600)),m=Math.abs(parseInt((o-n)/1e3/60)),p=Math.abs(parseInt((o-n)/1e3));console.log(c),c>=365?s.text(parseInt(r)+"年"+(i-12*r)+"个月"+(c-(12*r*30+5*r))+"天前").toString():c>=31?s.text(parseInt(i)+"个月"+(c-30*i)+"天前").toString():c>=2?s.text(parseInt(c)+"天前").toString():c>0&&c<2?s.text("昨天").toString():l>0&&l<24?s.text(parseInt(l)+"小时前").toString():m>0&&m<60?s.text(parseInt(m)+"分钟前").toString():p>0&&p<60&&s.text(parseInt(p)+"秒前").toString()}function replaceAll(t,e,n){return t.split(e).join(n)}$(".one-comment").each(function(){var t=$(this).find(".time").text(),e=$(this).find(".time");setTime(t,e)});var ll={commentText:function(t){var e=document.getElementsByClassName("el-textarea__inner")[0];let n=document.createEvent("HTMLEvents");n.initEvent("input",!0,!0);let a=replaceAll(t,"\n","\n> ");e.value="> "+a+"\n\n",e.dispatchEvent(n);var s=document.querySelector("#post-comment").offsetTop;window.scrollTo(0,s-80),e.focus(),e.setSelectionRange(-1,-1),document.getElementById("comment-tips")&&document.getElementById("comment-tips").classList.add("show")}};