var ll={lxgwWenkaiScreen:function(){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css",document.head.append(e)},authorInfoSayhi:function(){var e=()=>{var e=new Date,t=e.getHours(),n="";return t>=0&&t<=5?n="晚安":t>5&&t<=10?n="早上好":t>10&&t<=14?n="中午好":t>14&&t<=18?n="下午好":t>18&&t<=24&&(n="晚上好"),n};document.querySelector("#author-info_sayhi")&&(document.getElementById("author-info_sayhi").innerHTML=e()+"！我是")},cardInfoSayhi:function(){fetch("https://api.vvhan.com/api/visitor.info").then(e=>e.json()).then(e=>{let t=e.time.substring(11,13),n=-1!==e.location.indexOf("-")?e.location.split("-"):e.location.split(" "),o=n[n.length-1];document.getElementById("author-info_sayhi").innerHTML=`<strong>${t<5?"深夜了！🥱":t<11?"早上好！👋":t<14?"中午好！😄":t<19?"下午好！☕":"晚上好！😄"} </strong><br>欢迎来自 <strong>${o}</strong> 的小伙伴。`}).catch(function(e){console.log(e)})},pageTitle:function(){document.getElementById("page-name-text").style.display="/"===window.location.pathname||/^\/page\/[0-9]+\//.test(window.location.pathname),document.querySelector("#page-name-text").innerHTML=GLOBAL_CONFIG_SITE.title},dynamicTitle:function(){var e,t=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="w(ﾟДﾟ)w 不要走！再看看嘛！",clearTimeout(e)):(document.title="♪(^∇^*)欢迎肥来！"+t,e=setTimeout(function(){document.title=t},2e3))})},percent:function(){let e=document.documentElement.scrollTop||window.pageYOffset,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,n=Math.round(e/t*100),o=document.querySelector("#go-up");n<=95?(o.childNodes[0].style.display="none",o.childNodes[1].style.display="block",o.childNodes[1].innerHTML=n):(o.childNodes[1].style.display="none",o.childNodes[0].style.display="block")},toPage:function(){var e=document.querySelectorAll(".page-number"),t=e[e.length-1].innerHTML,n=Number(t),o=document.getElementById("toPageText"),i=Number(o.value);if(""!=i&&!isNaN(i)&&i%1==0)if(1==i)document.getElementById("toPageButton").href="/";else if(i>n){var a="/page/"+n+"/#home_top";document.getElementById("toPageButton").href=a}else a="/page/"+o.value+"/#home_top",document.getElementById("toPageButton").href=a},toPageArchive:function(){var e=document.querySelectorAll(".page-number"),t=e[e.length-1].innerHTML,n=Number(t),o=document.getElementById("toPageText"),i=Number(o.value);if(""!=i&&!isNaN(i)&&i%1==0)if(1==i)document.getElementById("toPageButton").href="/";else if(i>n){var a="/archives/page/"+n+"/#archive";document.getElementById("toPageButton").href=a}else a="/archives/page/"+o.value+"/#archive",document.getElementById("toPageButton").href=a},scrollTo:function(e){var t=document.querySelector(e).offsetTop;window.scrollTo(0,t-80)},runtime:()=>{var e=function(e){return e>9?e:"0"+e};let t=new Date("2021/09/25 00:00:00").getTime(),n=(new Date).getTime(),o=Math.round((n-t)/1e3),i="本站已运行：";o>=86400&&(i+=e(parseInt(o/86400))+" 天 ",o%=86400),o>=3600&&(i+=e(parseInt(o/3600))+" 时 ",o%=3600),o>=60&&(i+=e(parseInt(o/60))+" 分 ",o%=60),o>=0&&(i+=e(o)+" 秒");let a=document.getElementById("runtime");a&&(a.innerHTML=i),setTimeout(ll.runtime,1e3)},addFriendLinksInFooter:function(){var e="https://friends.ll.sc.cn/randomfriend?num=3";fetch(e).then(e=>e.json()).then(e=>{var t=ll.getArrayItems(e,3),n="";for(let e=0;e<t.length;++e){var o=t[e];n+=`<a class='footer-menu-item' href='${o.link}'  target="_blank" rel="noopener nofollow">${o.name}</a>`}n+="<a class='footer-menu-item' href='/friends/'>更多…</a>",document.getElementById("friend-links-in-footer").innerHTML=n})},getArrayItems:function(e,t){var n=new Array;for(var o in e)n.push(e[o]);for(var i=new Array,a=0;a<t&&n.length>0;a++){var l=Math.floor(Math.random()*n.length);i[a]=n[l],n.splice(l,1)}return i},listenToPageInputPress:function(){var e=document.getElementById("toPageText"),t=document.getElementById("toPageButton");e&&(e.addEventListener("keydown",e=>{if(13===e.keyCode){ll.toPage();var n=t.href;pjax.loadUrl(n)}}),e.addEventListener("input",function(){""===e.value||"0"===e.value?t.classList.remove("haveValue"):t.classList.add("haveValue");var n=document.querySelectorAll(".page-number"),o=n[n.length-1].innerHTML,i=Number(o),a=document.getElementById("toPageText"),l=Number(a.value);l>i&&(e.value=i)}))},catalogActive:function(){let e=document.getElementById("catalog-list");if(e){e.addEventListener("mousewheel",function(t){e.scrollLeft-=t.wheelDelta/2,t.preventDefault()},!1);let t=document.getElementById(decodeURIComponent(window.location.pathname));t.classList.add("selected"),e.scrollLeft=t.offsetLeft-e.offsetLeft-(e.offsetWidth-t.offsetWidth)/2}},randomPost:function(){fetch("/sitemap.xml").then(e=>e.text()).then(e=>(new window.DOMParser).parseFromString(e,"text/xml")).then(e=>{let t,n,o=e.querySelectorAll("url loc");do{t=o[Math.floor(Math.random()*o.length)].innerHTML,n=t.split("/")[3]||""}while("posts"!==n);location.href=t})},switchNightMode:function(){document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>'),setTimeout(function(){document.querySelector("body").classList.contains("DarkMode")?(document.querySelector("body").classList.remove("DarkMode"),localStorage.setItem("isDark","0"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon")):(document.querySelector("body").classList.add("DarkMode"),localStorage.setItem("isDark","1"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun")),setTimeout(function(){document.getElementsByClassName("Cuteen_DarkSky")[0].style.transition="opacity 3s",document.getElementsByClassName("Cuteen_DarkSky")[0].style.opacity="0",setTimeout(function(){document.getElementsByClassName("Cuteen_DarkSky")[0].remove()},1e3)},2e3)});const e="dark"===document.documentElement.getAttribute("data-theme")?"dark":"light";"light"===e?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night),document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun")):(activateLightMode(),saveToLocal.set("theme","light",2),document.querySelector("body").classList.add("DarkMode"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon")),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout(()=>window.disqusReset(),200)},switchCommentBarrage:function(){let e=window.localStorage.getItem("commentBarrageDisplay");document.getElementById("comment-barrage").style.display="false"===e?"block":"none",window.localStorage.setItem("commentBarrageDisplay","false"===e?"undefined":"false",864e5)},owoBig:function(){let e=1,t="",n=3,o=document.createElement("div"),i=document.querySelector("body");o.id="owo-big",i.appendChild(o);let a=new MutationObserver(a=>{for(let l=0;l<a.length;l++){let r=a[l].addedNodes,c="";2==r.length&&"OwO-body"==r[1].className&&(c=r[1],document.body.clientWidth<=768&&c.addEventListener("contextmenu",e=>e.preventDefault()),c.onmouseover=(a=>{e&&"IMG"==a.target.tagName&&(e=0,t=setTimeout(()=>{let e=a.path[0].clientHeight*n,t=a.path[0].clientWidth*n,l=a.x-a.offsetX-(t-a.path[0].clientWidth)/2,r=a.y-a.offsetY;l+t>i.clientWidth&&(l-=l+t-i.clientWidth+10),l<0&&(l=10),o.style.cssText=`display:flex; height:${e}px; width:${t}px; left:${l}px; top:${r}px;`,o.innerHTML=`<img src="${a.target.src}">`},300))}),c.onmouseout=(()=>{o.style.display="none",e=1,clearTimeout(t)}))}});a.observe(document.getElementById("post-comment"),{subtree:!0,childList:!0})},switchThemeColor:function([e,t,n]){document.documentElement.style.setProperty("--r",e),document.documentElement.style.setProperty("--g",t),document.documentElement.style.setProperty("--b",n),document.documentElement.style.setProperty("--second",.299*e+.587*t+.114*n>=192?"#000":"#FFF"),document.documentElement.style.setProperty("--cover-text",.299*e+.587*t+.114*n>=192?"#4C4948":"#EEE")},getMainColor:function(e="#ea517f"){let t=[parseInt("0x"+e.slice(1,3)),parseInt("0x"+e.slice(3,5)),parseInt("0x"+e.slice(5,7))];return t},commentText:function(e){function t(e,t,n){return e.split(t).join(n)}var n=document.getElementsByClassName("el-textarea__inner")[0];let o=document.createEvent("HTMLEvents");o.initEvent("input",!0,!0);let i=t(e,"\n","\n> ");n.value="> "+i+"\n\n",n.dispatchEvent(o);var a=document.querySelector("#post-comment").offsetTop;window.scrollTo(0,a-80),n.focus(),n.setSelectionRange(-1,-1),document.getElementById("comment-tips")&&document.getElementById("comment-tips").classList.add("show")},travelling:function(){var e="https://friends.ll.sc.cn/randomfriend";fetch(e).then(e=>e.json()).then(e=>{var t=e.name,n=e.link,o="点击前往按钮进入随机一个友链，不保证跳转网站的安全性和可用性。本次随机到的是本站友链：「"+t+"」";document.styleSheets[0].addRule(":root","--ll-snackbar-time:8000ms!important"),Snackbar.show({text:o,duration:8e3,pos:"snackbar-css top-center",actionText:"点击前往",onActionClick:function(e){$(e).css("opacity",0),window.open(n,"_blank")}})})},linkCom:e=>{var t=document.querySelector(".el-textarea__inner");"bf"==e?(t.value="```yml\n",t.value+="- name: \n  link: \n  avatar: \n  descr: \n  siteshot: ",t.value+="\n```",t.setSelectionRange(15,15)):(t.value="站点名称：\n站点地址：\n头像链接：\n站点描述：\n站点截图：\nRSS地址：",t.setSelectionRange(5,5)),t.focus()},initIndexEssay:function(){if(document.querySelector("#bber-talk"))new Swiper(".swiper-container",{direction:"vertical",loop:!0,autoplay:{delay:3e3,pauseOnMouseEnter:!0}})},fpsShow:function(){let e=function(){function e(){o=document.createElement("dialog"),i.appendChild(o),o.id="fps"}function t(){offset=Date.now()-r,l+=1,offset>=1e3&&(r+=offset,n(l),l=0),a(t)}function n(t){let n;n=t<=5?'<div style="color:#bd0000">卡成ppt🤢</div>':t<=15?'<div style="color:red">电竞级帧率😖</div>':t<=25?'<div style="color:orange">有点难受😨</div>':t<35?'<div style="color:#9338e6">不太流畅🙄</div>':t<=45?'<div style="color:#08b7e4">还不错哦😁</div>':'<div style="color:#39c5bb">十分流畅🤣</div>';let i=`<span>FPS：${t}</span>`,a=`${i} ${n}`;o||e(),a!==o.innerHTML&&(o.innerHTML=a)}let o,i,a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},l=0,r=Date.now();return function(e){i=e,t()}}();e(document.getElementById("nav-group"))},aboutStatistic51La:function(){fetch("https://v6-widget.51.la/v6/Js0bWTKg5ezX8WPE/quote.js").then(e=>e.text()).then(e=>{let t=["最近活跃访客","今日人数","今日访问","昨日人数","昨日访问","本月访问","总访问量"],n=e.match(/(?<=<\/span><span>).*?(?=<\/span><\/p>)/g),o=[1,2,3,4,5];for(let e=0;e<o.length;e++)document.querySelectorAll("#statistic")[0].innerHTML+="<div><span>"+t[o[e]]+"</span><span>"+n[o[e]]+"</span></div>"})},aboutForeverblogProgress:function(){function e(e,t){let n,o,i=Date.parse(e),a=Date.parse(t);return o=Math.abs(i-a),n=Math.floor(o/864e5),n}var t="2022-11-4",n="2032-11-4",o=e(t,n),i=e(t,new Date),a=Math.ceil(i/o*100)/1+"%",l=document.querySelector(".progress-bar");l.style.width=a,l.innerHTML=a},browserVersion:function(){function e(){btf.snackbarShow(""),Snackbar.show({text:"浏览器版本较低，网站样式可能错乱",actionText:"关闭",duration:"6000",pos:"top-center"})}function t(e,t){let n=new Date((new Date).getTime()+24*t*60*60*1e3).toGMTString();for(let t in e)document.cookie=t+"="+e[t]+";expires="+n}function n(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}var o=navigator.userAgent,i=o.indexOf("compatible")>-1&&o.indexOf("MSIE")>-1,a=(o.indexOf("Trident")>-1&&o.indexOf("rv:11.0"),o.indexOf("Edge")>-1&&!i),l=o.indexOf("Firefox")>-1,r=o.indexOf("Opera")>-1||o.indexOf("OPR")>-1,c=o.indexOf("Chrome")>-1&&o.indexOf("Safari")>-1&&-1==o.indexOf("Edge")&&-1==o.indexOf("OPR");o.indexOf("Safari")>-1&&-1==o.indexOf("Chrome")&&-1==o.indexOf("Edge")&&o.indexOf("OPR");a?o.split("Edge/")[1].split(".")[0]<90&&e():l?o.split("Firefox/")[1].split(".")[0]<90&&e():r?o.split("OPR/")[1].split(".")[0]<80&&e():c&&o.split("Chrome/")[1].split(".")[0]<90&&e(),1!=n("browsertc")&&(t({browsertc:1},1),ll.browserVersion())}};