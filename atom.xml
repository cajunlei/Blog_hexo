<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>雷雷的个人博客</title>
  
  <subtitle>爱生活，爱工作，爱折腾</subtitle>
  <link href="https://ll.sc.cn/atom.xml" rel="self"/>
  
  <link href="https://ll.sc.cn/"/>
  <updated>2022-12-09T09:22:48.971Z</updated>
  <id>https://ll.sc.cn/</id>
  
  <author>
    <name>守正</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【butterfly】增加评论热评轮播功能</title>
    <link href="https://ll.sc.cn/posts/8589/"/>
    <id>https://ll.sc.cn/posts/8589/</id>
    <published>2022-12-07T09:32:28.000Z</published>
    <updated>2022-12-09T09:22:48.971Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><div class="note warning flat"><p>此功能需关闭评论的懒加载 <code>_config.butterfly.yml</code>  –&gt;  <code>comments:</code> –&gt; <code>lazyload: false</code>，否则需等页面活动至评论区才会加载。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default(最多两条评论系统，第一条将显示为默认)</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">Twikoo</span> <span class="comment"># Valine,Disqus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button(显示评论的名字旁边的按钮)</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.(LazyLoad：当评论元素进入浏览器的视区时，评论系统将被加载。)</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid(如果将其设置为True，则评论计数将无效)</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in post&#x27;s top_img(在文章的top_img中显示评论计数)</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in Home Page(在主页中显示评论计数)</span></span><br></pre></td></tr></table></figure></div><h2 id="修改-twikoo-pug"><a href="#修改-twikoo-pug" class="headerlink" title="修改 twikoo.pug"></a>修改 twikoo.pug</h2><p>打开<code>\themes\butterfly\layout\includes\third-party\comments\twikoo.pug</code>，添加以下内容。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- const &#123; envId, region, option &#125; = theme.twikoo</span></span><br><span class="line"><span class="deletion">- const &#123; use, lazyload, count &#125; = theme.comments</span></span><br><span class="line"></span><br><span class="line">script.</span><br><span class="line">  (()=&gt;&#123;</span><br><span class="line">    const init = () =&gt; &#123;</span><br><span class="line">      twikoo.init(Object.assign(&#123;</span><br><span class="line">        el: &#x27;#twikoo-wrap&#x27;,</span><br><span class="line">        envId: &#x27;!&#123;envId&#125;&#x27;,</span><br><span class="line">        region: &#x27;!&#123;region&#125;&#x27;,</span><br><span class="line">        onCommentLoaded: function () &#123;</span><br><span class="line">          btf.loadLightbox(document.querySelectorAll(&#x27;#twikoo .tk-content img:not(.tk-owo-emotion)&#x27;))</span><br><span class="line"><span class="addition">+          setTimeout(function()&#123;</span></span><br><span class="line"><span class="addition">+            let tk_comment = document.querySelectorAll(&#x27;.tk-comments-container .tk-comment&#x27;)</span></span><br><span class="line"><span class="addition">+            if (tk_comment.length &gt; 0) &#123;</span></span><br><span class="line"><span class="addition">+              let html = `&lt;div class=&quot;swiper-wrapper&quot;&gt;`</span></span><br><span class="line"><span class="addition">+              for (let i = 0; i &lt; tk_comment.length; i++) &#123;</span></span><br><span class="line"><span class="addition">+                let tk_id = tk_comment[i].getAttribute(&#x27;id&#x27;) || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                let tk_nick = tk_comment[i].querySelector(&#x27;.tk-nick&#x27;)?.innerText || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                let tk_href = tk_comment[i].querySelector(&#x27;.tk-nick&#x27;)?.href || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                let tk_avatar = tk_comment[i].querySelector(&#x27;.tk-avatar-img&#x27;)?.src || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                let tk_time = tk_comment[i].querySelector(&#x27;.tk-time&#x27;)?.innerText || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                let tk_city = tk_comment[i].querySelector(&#x27;.tk-extras .tk-extra:first-child span:last-child&#x27;)?.innerText || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                let tk_content = tk_comment[i].querySelector(&#x27;.tk-content&gt;span:last-child&#x27;)?.innerHTML || &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+                tk_content = tk_content.replace(/\n/g, &#x27;&#x27;) // replace \n</span></span><br><span class="line"><span class="addition">+                tk_content = tk_content.replace(/&lt;blockquote&gt;.*?&lt;\/blockquote&gt;/gi, &#x27;&#x27;) // replace blockquote</span></span><br><span class="line"><span class="addition">+                tk_content = tk_content.replace(/&lt;pre.*?&lt;\/pre&gt;/gi, &#x27;[!&#123;_p(&quot;aside.card_newest_comments.code&quot;)&#125;]&#x27;) // replace code</span></span><br><span class="line"><span class="addition">+                html += `</span></span><br><span class="line"><span class="addition">+                  &lt;div class=&quot;swiper-slide&quot;&gt;</span></span><br><span class="line"><span class="addition">+                    &lt;div class=&quot;comment-barrage-item&quot;&gt;</span></span><br><span class="line"><span class="addition">+                      &lt;div class=&quot;barrage-info&quot;&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;a class=&quot;barrage-title&quot; title=&quot;跳转至评论区&quot; href=&quot;#post-comment&quot;&gt;热评&lt;/a&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;a href=&quot;$&#123;tk_href ? tk_href + &#x27;&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; title=&quot;访问 &#x27;+ tk_nick +&#x27;&quot;&#x27; : &#x27;javascript:void(0);&quot;&#x27;&#125;&gt;</span></span><br><span class="line"><span class="addition">+                          &lt;img class=&quot;barrage-avatar&quot; src=&quot;$&#123;tk_avatar&#125;&quot;&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;/a&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;span class=&quot;barrage-nick&quot;&gt;$&#123;tk_nick&#125;&lt;/span&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;span class=&quot;barrage-city&quot;&gt;$&#123;tk_city&#125;&lt;/span&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;span class=&quot;barrage-time&quot;&gt;$&#123;tk_time&#125;&lt;/span&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;a class=&quot;barrage-close&quot; onclick=&quot;eurkon.switchCommentBarrage()&quot; title=&quot;隐藏热评&quot;&gt;&lt;i class=&quot;fa-solid fa-xmark&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="addition">+                      &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+                      &lt;div class=&quot;barrage-content&quot;&gt;</span></span><br><span class="line"><span class="addition">+                        &lt;a title=&quot;跳转至该评论&quot; href=&quot;#$&#123;tk_id&#125;&quot;&gt;$&#123;tk_content&#125;&lt;/a&gt;</span></span><br><span class="line"><span class="addition">+                      &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+                    &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+                  &lt;/div&gt;`</span></span><br><span class="line"><span class="addition">+              &#125;</span></span><br><span class="line"><span class="addition">+              html += &#x27;&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="addition">+              let barrageContainer = document.getElementById(&#x27;comment-barrage&#x27;) || document.createElement(&#x27;div&#x27;)</span></span><br><span class="line"><span class="addition">+              barrageContainer.id = &#x27;comment-barrage&#x27;</span></span><br><span class="line"><span class="addition">+              barrageContainer.innerHTML = html</span></span><br><span class="line"><span class="addition">+              barrageContainer.style.display = window.localStorage.getItem(&#x27;commentBarrageDisplay&#x27;) === &#x27;false&#x27; ? &#x27;none&#x27; : &#x27;block&#x27;</span></span><br><span class="line"><span class="addition">+              document.getElementById(&#x27;post-comment&#x27;).appendChild(barrageContainer)</span></span><br><span class="line"><span class="addition">+              var barrageSwiper = new Swiper(&#x27;#comment-barrage&#x27;, &#123;</span></span><br><span class="line"><span class="addition">+                direction: &#x27;vertical&#x27;,</span></span><br><span class="line"><span class="addition">+                loop: true,</span></span><br><span class="line"><span class="addition">+                mousewheel: true,</span></span><br><span class="line"><span class="addition">+                autoplay: &#123;</span></span><br><span class="line"><span class="addition">+                  delay: 3000,</span></span><br><span class="line"><span class="addition">+                  disableOnInteraction: true,</span></span><br><span class="line"><span class="addition">+                &#125;</span></span><br><span class="line"><span class="addition">+              &#125;)</span></span><br><span class="line"><span class="addition">+              barrageContainer.onmouseenter = function () &#123;</span></span><br><span class="line"><span class="addition">+                barrageSwiper.autoplay.stop()</span></span><br><span class="line"><span class="addition">+              &#125;;</span></span><br><span class="line"><span class="addition">+              barrageContainer.onmouseleave = function () &#123;</span></span><br><span class="line"><span class="addition">+                barrageSwiper.autoplay.start()</span></span><br><span class="line"><span class="addition">+              &#125;;</span></span><br><span class="line"><span class="addition">+            &#125;</span></span><br><span class="line"><span class="addition">+          &#125;, 1000)</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, !&#123;JSON.stringify(option)&#125;))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const getCount = () =&gt; &#123;</span><br><span class="line">      const countELement = document.getElementById(&#x27;twikoo-count&#x27;)</span><br><span class="line">      if(!countELement) return</span><br><span class="line">      twikoo.getCommentsCount(&#123;</span><br><span class="line">        envId: &#x27;!&#123;envId&#125;&#x27;,</span><br><span class="line">        region: &#x27;!&#123;region&#125;&#x27;,</span><br><span class="line">        urls: [window.location.pathname],</span><br><span class="line">        includeReply: false</span><br><span class="line">      &#125;).then(function (res) &#123;</span><br><span class="line">        countELement.innerText = res[0].count</span><br><span class="line">      &#125;).catch(function (err) &#123;</span><br><span class="line">        console.error(err);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const runFn = () =&gt; &#123;</span><br><span class="line">      init()</span><br><span class="line">      !&#123;count ? &#x27;GLOBAL_CONFIG_SITE.isPost &amp;&amp; getCount()&#x27; : &#x27;&#x27;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const loadTwikoo = () =&gt; &#123;</span><br><span class="line">      if (typeof twikoo <span class="comment">=== &#x27;object&#x27;) &#123;</span></span><br><span class="line">        setTimeout(runFn,0)</span><br><span class="line">        return</span><br><span class="line">      &#125; </span><br><span class="line">      getScript(&#x27;!&#123;url_for(theme.asset.twikoo)&#125;&#x27;).then(runFn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (&#x27;!&#123;use[0]&#125;&#x27; <span class="comment">=== &#x27;Twikoo&#x27; || !!&#123;lazyload&#125;) &#123;</span></span><br><span class="line">      if (!&#123;lazyload&#125;) btf.loadComment(document.getElementById(&#x27;twikoo-wrap&#x27;), loadTwikoo)</span><br><span class="line">      else loadTwikoo()</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      window.loadOtherComment = () =&gt; &#123;</span><br><span class="line">        loadTwikoo()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)()</span><br></pre></td></tr></table></figure><div class="note info flat"><p>直接删除<code>+</code>号，已对齐缩进，否则导致报错。</p></div><h2 id="增加自定义样式"><a href="#增加自定义样式" class="headerlink" title="增加自定义样式"></a>增加自定义样式</h2><p>在自定义<code>scss</code>文件中添加以下代码：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 热评start</span></span><br><span class="line"><span class="selector-id">#comment-barrage</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">3rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10rem</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="selector-class">.comment-barrage-item</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">98%</span>;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">10rem</span>;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5rem</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--white);</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--border);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-box-shadow);</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.swiper-slide-active</span> <span class="selector-class">.comment-barrage-item</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="built_in">var</span>(--backcolor);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 头部</span></span><br><span class="line">    <span class="selector-class">.barrage-info</span> &#123;</span><br><span class="line">      <span class="attribute">overflow</span>: hidden;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">90%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">      <span class="selector-tag">span</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> .<span class="number">2em</span>;</span><br><span class="line">        <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.barrage-title</span> &#123;</span><br><span class="line">        <span class="attribute">font-weight</span>: bold;</span><br><span class="line">        <span class="attribute">padding</span>: .<span class="number">3em</span> <span class="number">0.5em</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">var</span>(--forecolor);</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--white);</span><br><span class="line">        <span class="attribute">margin-right</span>: .<span class="number">5em</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: .<span class="number">5em</span>;</span><br><span class="line">        <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 头像</span></span><br><span class="line">      <span class="selector-class">.barrage-avatar</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">2em</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">2em</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">        <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 昵称</span></span><br><span class="line">      <span class="selector-class">.barrage-nick</span> &#123;</span><br><span class="line">        <span class="attribute">font-family</span>: <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>;</span><br><span class="line">        <span class="attribute">font-weight</span>: bold;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 关闭按钮</span></span><br><span class="line">      <span class="selector-class">.barrage-close</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 正文</span></span><br><span class="line">    <span class="selector-class">.barrage-content</span> &#123;</span><br><span class="line">      <span class="attribute">padding-top</span>: <span class="number">5px</span>;</span><br><span class="line">      <span class="attribute">max-height</span>: <span class="number">95px</span>;</span><br><span class="line">      <span class="attribute">height</span>: fit-content;</span><br><span class="line">      <span class="attribute">overflow-y</span>: scroll;</span><br><span class="line">      <span class="attribute">text-align</span>: justify;</span><br><span class="line">      <span class="attribute">word-break</span>: break-all;</span><br><span class="line">      <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">        &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-tag">p</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-tag">img</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">3em</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 热评end</span></span><br></pre></td></tr></table></figure><h2 id="增加-隐藏-显示-热评-js"><a href="#增加-隐藏-显示-热评-js" class="headerlink" title="增加 隐藏/显示 热评 js"></a>增加 隐藏/显示 热评 js</h2><p>在自定义<code>js</code>文件中加入以下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 切换热评start</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchCommentBarrage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;commentBarrageDisplay&#x27;</span>) <span class="comment">// undefined || false</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;comment-barrage&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = flag === <span class="string">&#x27;false&#x27;</span> ? <span class="string">&#x27;block&#x27;</span> : <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    <span class="comment">// 本地缓存一天，刷新或切换页面时仍 隐藏或显示 热评。</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;commentBarrageDisplay&#x27;</span>, flag === <span class="string">&#x27;false&#x27;</span> ? <span class="string">&#x27;undefined&#x27;</span> : <span class="string">&#x27;false&#x27;</span>, <span class="number">86400000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 切换热评end</span></span><br></pre></td></tr></table></figure><h2 id="引入-swiper-轮播功能"><a href="#引入-swiper-轮播功能" class="headerlink" title="引入 swiper 轮播功能"></a>引入 swiper 轮播功能</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># 轮播</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.css&quot;&gt;</span></span><br><span class="line">    <span class="comment"># 轮播</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><strong>Eurkon：</strong> <a href="https://blog.eurkon.com/post/364efc10.html">Butterfly Twikoo 评论热评</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/a58c/"   title="01-添加自定义css和js文件"><i class="far fa-hand-point-right"></i><span>01-添加自定义css和js文件</span></a><a class="btn-beautify block left pink larger" href="/posts/4c4e/"   title="18-动态分类标签导航栏"><i class="far fa-hand-point-left"></i><span>18-动态分类标签导航栏</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】动态分类标签导航栏</title>
    <link href="https://ll.sc.cn/posts/4c4e/"/>
    <id>https://ll.sc.cn/posts/4c4e/</id>
    <published>2022-12-07T06:50:26.000Z</published>
    <updated>2022-12-09T09:22:48.971Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="新建-catalog-list-js"><a href="#新建-catalog-list-js" class="headerlink" title="新建 catalog_list.js"></a>新建 catalog_list.js</h2><p>[Blogroot]\themes\butterfly\scripts\helpers\ 目录下新建文件 <code>catalog_list.js</code>，<code>type</code> 参数表示生成 分类导航栏 <code>categories</code> 还是 标签导航栏 <code>tags</code>，其中 <code>&lt;sup&gt;$&#123;item.length&#125;&lt;/sup&gt;</code> 是使用上标显示文章数量。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&#x27;catalog_list&#x27;</span>, <span class="keyword">function</span> (<span class="params">type</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> html = <span class="string">``</span></span><br><span class="line">  hexo.<span class="property">locals</span>.<span class="title function_">get</span>(type).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">    html += <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;catalog-list-item&quot; id=&quot;/<span class="subst">$&#123;item.path&#125;</span>&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;a href=&quot;/<span class="subst">$&#123;item.path&#125;</span>&quot;&gt;<span class="subst">$&#123;item.name&#125;</span>&lt;sup&gt;<span class="subst">$&#123;item.length&#125;</span>&lt;/sup&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> html</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="新增自定义样式"><a href="#新增自定义样式" class="headerlink" title="新增自定义样式"></a>新增自定义样式</h2><p>在自定义<code>scss</code>文件中添加以下代码：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分类目录条、标签目录条start</span></span><br><span class="line"><span class="selector-id">#catalog-bar</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">4rem</span> .<span class="number">8rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--forecolor);</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="built_in">var</span>(--forecolor);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: inherit;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#catalog-list</span> &#123;</span><br><span class="line">    <span class="comment">/* 分类/标签较少时，可以选择不设置 width，居中显示 catalog-list-item */</span></span><br><span class="line">    <span class="comment">/* width: 100%; */</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> .<span class="number">5rem</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">overflow-x</span>: scroll;</span><br><span class="line">    <span class="selector-class">.catalog-list-item</span> &#123;</span><br><span class="line">      <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> .<span class="number">2em</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0.2em</span> <span class="number">0.3em</span> <span class="number">0.3em</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">        -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">        -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">        -o-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">        -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;<span class="selector-class">.selected</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">var</span>(--backcolor);</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;<span class="selector-pseudo">:hover</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">var</span>(--forecolor);</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--white);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.catalog-more</span> &#123;</span><br><span class="line">    <span class="attribute">min-width</span>: fit-content;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#4c4948</span>;</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="built_in">var</span>(--forecolor);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 分类目录条、标签目录条end</span></span><br></pre></td></tr></table></figure><h2 id="当前所在分类-标签页高亮"><a href="#当前所在分类-标签页高亮" class="headerlink" title="当前所在分类/标签页高亮"></a>当前所在分类/标签页高亮</h2><p>在自定义<code>js</code>文件中加入以下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">catalogActive</span> () &#123;</span><br><span class="line">  <span class="keyword">let</span> $list = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;catalog-list&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> ($list) &#123;</span><br><span class="line">    <span class="comment">// 鼠标滚轮滚动</span></span><br><span class="line">    $list.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousewheel&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">      <span class="comment">// 计算鼠标滚轮滚动的距离</span></span><br><span class="line">      $list.<span class="property">scrollLeft</span> -= e.<span class="property">wheelDelta</span> / <span class="number">2</span></span><br><span class="line">      <span class="comment">// 阻止浏览器默认方法</span></span><br><span class="line">      e.<span class="title function_">preventDefault</span>()</span><br><span class="line">    &#125;, <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 高亮当前页面对应的分类或标签</span></span><br><span class="line">    <span class="keyword">let</span> $catalog = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="built_in">decodeURIComponent</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>))</span><br><span class="line">    $catalog.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;selected&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 滚动当前页面对应的分类或标签到中部</span></span><br><span class="line">    $list.<span class="property">scrollLeft</span> = ($catalog.<span class="property">offsetLeft</span> - $list.<span class="property">offsetLeft</span>) - ($list.<span class="property">offsetWidth</span> - $catalog.<span class="property">offsetWidth</span>) / <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">catalogActive</span>()</span><br></pre></td></tr></table></figure><h2 id="使用分类导航栏"><a href="#使用分类导航栏" class="headerlink" title="使用分类导航栏"></a>使用分类导航栏</h2><p>[Blogroot]\themes\butterfly\layout\category.pug 增加以下内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  if theme.category_ui == &#x27;index&#x27;</span><br><span class="line">    include ./includes/mixins/post-ui.pug</span><br><span class="line">    #recent-posts.recent-posts.category_ui</span><br><span class="line">      +postUI</span><br><span class="line">      include includes/pagination.pug</span><br><span class="line">  else</span><br><span class="line">    include ./includes/mixins/article-sort.pug</span><br><span class="line">    #category</span><br><span class="line"><span class="addition">+     #catalog-bar</span></span><br><span class="line"><span class="addition">+       i.fa-fw.fas.fa-shapes</span></span><br><span class="line"><span class="addition">+       #catalog-list</span></span><br><span class="line"><span class="addition">+         !=catalog_list(&quot;categories&quot;)</span></span><br><span class="line"><span class="addition">+       a.catalog-more(href=&quot;/categories/&quot;)!= &#x27;更多&#x27;</span></span><br><span class="line">      .article-sort-title= _p(&#x27;page.category&#x27;) + &#x27; - &#x27; + page.category</span><br><span class="line">      +articleSort(page.posts)</span><br><span class="line">      include includes/pagination.pug</span><br></pre></td></tr></table></figure><h2 id="使用标签导航栏"><a href="#使用标签导航栏" class="headerlink" title="使用标签导航栏"></a>使用标签导航栏</h2><p>[Blogroot]\themes\butterfly\layout\tag.pug 增加以下内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  if theme.tag_ui == &#x27;index&#x27;</span><br><span class="line">    include ./includes/mixins/post-ui.pug</span><br><span class="line">    #recent-posts.recent-posts</span><br><span class="line">      +postUI</span><br><span class="line">      include includes/pagination.pug</span><br><span class="line">  else</span><br><span class="line">    include ./includes/mixins/article-sort.pug</span><br><span class="line">    #tag</span><br><span class="line"><span class="addition">+     #catalog-bar</span></span><br><span class="line"><span class="addition">+       i.fa-fw.fas.fa-tags</span></span><br><span class="line"><span class="addition">+       #catalog-list</span></span><br><span class="line"><span class="addition">+         !=catalog_list(&quot;tags&quot;)</span></span><br><span class="line"><span class="addition">+       a.catalog-more(href=&quot;/tags/&quot;)!= &#x27;更多&#x27;</span></span><br><span class="line">      .article-sort-title= _p(&#x27;page.tag&#x27;) + &#x27; - &#x27; + page.tag</span><br><span class="line">      +articleSort(page.posts)</span><br><span class="line">      include includes/pagination.pug</span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><strong>Eurkon：</strong> <a href="https://blog.eurkon.com/post/65b72006.html">Butterfly 分类标签导航栏</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/8589/"   title="19-增加评论热评轮播功能"><i class="far fa-hand-point-right"></i><span>19-增加评论热评轮播功能</span></a><a class="btn-beautify block left pink larger" href="/posts/62f6/"   title="17-文章双栏布局插件"><i class="far fa-hand-point-left"></i><span>17-文章双栏布局插件</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>使用Tasker+Auto.js实现自动打卡</title>
    <link href="https://ll.sc.cn/posts/bd6a/"/>
    <id>https://ll.sc.cn/posts/bd6a/</id>
    <published>2022-11-24T04:51:08.000Z</published>
    <updated>2022-12-09T09:22:48.971Z</updated>
    
    <content type="html"><![CDATA[<div class="note info flat"><p>此文前提是已经写好auto.js自动打卡代码；</p><p>具体操作请参考<a href="https://pro.autojs.org/docs/zh/v8/">官方文档</a>。</p></div><h2 id="Tasker操作"><a href="#Tasker操作" class="headerlink" title="Tasker操作"></a>Tasker操作</h2><p>打开Tasker软件，新建任务，取一个名字，如：钉钉打卡；</p><p><strong>操作步骤：</strong> 顶栏【任务】 –&gt; 右下角【+】号 –&gt; 输入任务名；</p><p>进入任务编辑界面；</p><p><strong>操作步骤：</strong> 右下角【+】号 –&gt; 【系统】 –&gt; 【发送意图】</p><p>在操作项输入<code>android.intent.action.tasker</code>，然后点击左上角⬅箭头返回</p><h2 id="Auto-js操作"><a href="#Auto-js操作" class="headerlink" title="Auto.js操作"></a>Auto.js操作</h2><p>打开Auto.js软件，点击写好的签到脚本的右侧三个点，设置一个定时任务</p><p><strong>操作步骤：</strong> 脚本右侧三个点 –&gt; 定时任务 –&gt; 广播触发任务 –&gt; 自定义广播 –&gt; 输入<code>android.intent.action.tasker</code>（在<code>Tasker</code>中发送意图一步中输入的值）；</p><h2 id="回到Tasker操作"><a href="#回到Tasker操作" class="headerlink" title="回到Tasker操作"></a>回到Tasker操作</h2><p>回到Tasker软件，新建配置文件；</p><p><strong>操作步骤：</strong> 顶栏【配置文件】 –&gt; 右下角【+】号 –&gt; 选择【时间】 –&gt; 设置自动执行打卡的时间 –&gt; 选择第一步设置好的【钉钉打卡】任务；</p><div class="note warning flat"><p>设置自动执行时间时【从】与【至】的时间设置为完全一样；</p></div><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="http://website.diehunter1024.work/blog_website/2021/10/24/%E4%BB%8E0%E5%88%B01%EF%BC%8C%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Tasker+Autojs%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%A1%E5%8A%9F%E8%83%BD/#">从0到1，教你如何使用Tasker+Autojs实现自动打卡功能</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note info flat&quot;&gt;&lt;p&gt;此文前提是已经写好auto.js自动打卡代码；&lt;/p&gt;
&lt;p&gt;具体操作请参考&lt;a href=&quot;https://pro.autojs.org/docs/zh/v8/&quot;&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;/div&gt;

&lt;h2 </summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="auto.js" scheme="https://ll.sc.cn/tags/auto-js/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】文章双栏布局插件</title>
    <link href="https://ll.sc.cn/posts/62f6/"/>
    <id>https://ll.sc.cn/posts/62f6/</id>
    <published>2022-11-23T05:25:39.000Z</published>
    <updated>2022-12-09T09:22:48.971Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="NPM-插件安装"><a href="#NPM-插件安装" class="headerlink" title="NPM 插件安装"></a>NPM 插件安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-butterfly-article-double-row --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"></span><br><span class="line">cnpm i hexo-butterfly-article-double-row --save</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>注意，一定要加<code>--save</code>，不然本地预览的时候可能不会显示！！！</p></div><h2 id="修改-config"><a href="#修改-config" class="headerlink" title="修改_config"></a>修改_config</h2><p>在<code>_config.yml</code>中添加以下代码:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">butterfly_article_double_row:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://zfe.space/post/hexo-butterfly-article-double-row.html">教程：butterfly 主题文章双栏布局插件</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/4c4e/"   title="18-动态分类标签导航栏"><i class="far fa-hand-point-right"></i><span>18-动态分类标签导航栏</span></a><a class="btn-beautify block left pink larger" href="/posts/6eca/"   title="16-使用Algolia搜索"><i class="far fa-hand-point-left"></i><span>16-使用Algolia搜索</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>装机必备软件推荐</title>
    <link href="https://ll.sc.cn/posts/0f64/"/>
    <id>https://ll.sc.cn/posts/0f64/</id>
    <published>2022-11-22T02:44:30.000Z</published>
    <updated>2022-12-09T09:22:48.975Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Everything"><a href="#Everything" class="headerlink" title="Everything"></a>Everything</h2><p>Windows平台上的一款完全免费且高效的文件搜索软件；</p><p>在输入搜索内容的瞬间即展示搜索结果，快到超乎想象；</p><p>在占用极少系统资源的同时还能实时监控磁盘文件变化；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/Everything.webp" alt="Everything"></p><p>主页：<a href="https://www.voidtools.com/zh-cn/">https://www.voidtools.com/zh-cn/</a></p><h2 id="Bandizip"><a href="#Bandizip" class="headerlink" title="Bandizip"></a>Bandizip</h2><p>一款强大的多功能压缩文件管理工具；</p><p>免费版即可满足日常使用需求，只不过在软件内有少量广告展示；</p><p>不太好的是免费版会弹出更新提示且不能取消检查更新，不过可以通过<strong>火绒</strong> –&gt; <strong>弹窗拦截</strong> 来处理掉；</p><p>最吸引我的功能就是<strong>自动解压</strong> ，软件会智能判断，如果是单文件就直接解压，如果是多文件或文件夹且不在同一文件夹内，将自动创建同压缩包同名的文件夹，并将压缩包内容解压至此；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/01.png"></p><p>主页：<a href="http://www.bandisoft.com/bandizip/">http://www.bandisoft.com/bandizip/</a></p><h2 id="uTools"><a href="#uTools" class="headerlink" title="uTools"></a>uTools</h2><p>一个集合了众多实用小插件的高效率软件平台；</p><p>内置插件丰富多样，可以根据自己的需求选择安装插件；</p><p>在任何界面下通过快捷键 Alt + Space 呼出uTools;</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/utools.png" alt="utools"></p><p><img src="https://cdn.chiga.ga/Posts/Software/05/plugin1.webp" alt="plugin1"></p><p>主页：<a href="http://www.u.tools/">http://www.u.tools/</a></p><h2 id="PotPlayer"><a href="#PotPlayer" class="headerlink" title="PotPlayer"></a>PotPlayer</h2><p>一款纯粹且非常强大的音视频播放软件；</p><p>自带解压码可以播放几乎你能接触的所有视频格式；</p><p>默认界面确实简陋，想要美化网上也有很多的主题可供下载；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/202111211637501800238864.jpg"></p><p>主页：<a href="https://potplayer.org/">https://potplayer.org/</a></p><h2 id="Snipaste"><a href="#Snipaste" class="headerlink" title="Snipaste"></a>Snipaste</h2><p>Snipaste 是一个简单但强大的截图工具，也可以让你将截图贴回到屏幕上；</p><p>免费、免安装、可个性定制；</p><p>支持：吸色（RGB/HEX）、窗口和元素切换、方向键微调等；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/N3QEb3VA.png"></p><p>主页：<a href="https://zh.snipaste.com/">https://zh.snipaste.com/</a></p><h2 id="NDM"><a href="#NDM" class="headerlink" title="NDM"></a>NDM</h2><p>Neat Download Manager是一款免费的下载工具，功能跟idm相似，支持多线程下载、网页多媒体文件嗅探等，但不支持 BT 和磁力链接下载；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/4.jpg"></p><p>主页：<a href="http://www.neatdownloadmanager.com/">http://www.neatdownloadmanager.com/</a></p><h2 id="Quicker"><a href="#Quicker" class="headerlink" title="Quicker"></a>Quicker</h2><p>一个高效率工具箱，拥有庞大的动作库，也可以自己按需自定义动作，实现快捷操作，提高效率；</p><p>为常用操作创建捷径，或创建组合动作来自动化完成操作；</p><p>通过最方便的方式触发动作；</p><p>还可以互相分享有价值的动作；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/%E9%9D%A2%E6%9D%BF%E7%AA%97%E5%8F%A33.gif"></p><p>主页：<a href="https://getquicker.net/">https://getquicker.net/</a></p><h2 id="火绒"><a href="#火绒" class="headerlink" title="火绒"></a>火绒</h2><p>轻量好用的安全软件，良心、没有广告、简洁易用；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/2022-01-04_13-42-07.webp"></p><p>主页：<a href="https://www.huorong.cn/">https://www.huorong.cn/</a></p><h2 id="FastGithub"><a href="#FastGithub" class="headerlink" title="FastGithub"></a>FastGithub</h2><p>不好的是，用完有时候会出现部分网站访问解析不了DNS，不完全确实是不是这个软件的锅；</p><p>项目地址：<a href="https://github.com/dotnetcore/FastGithub">https://github.com/dotnetcore/FastGithub</a></p><h2 id="ToDesk"><a href="#ToDesk" class="headerlink" title="ToDesk"></a>ToDesk</h2><p>一款可以免登录的远程控制软件（不要升级到4.0版本）；</p><p>新版本需要注册账号登录才能使用；</p><p>旧版本基础的远程控制等功能在不登陆的情况就可以直接使用；</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/2022-01-04_13-51-05.webp"></p><p>主页：<a href="https://www.todesk.com/">https://www.todesk.com/</a></p><h2 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h2><p>一款所见即所得的 Markdown 编辑器；</p><p>已经被很过多推荐过，不过从正式版开始订阅收费了；</p><p>version 0.11.8(bata)是最后的免费版本；</p><p>日常使用已经足够了；</p><p>搭配「坚果云」就能实现云同步笔记；</p><p>自用主题：<a href="https://github.com/cajunlei/Typora-themes">https://github.com/cajunlei/Typora-themes</a></p><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><h3 id="SVG-Explorer-Extension"><a href="#SVG-Explorer-Extension" class="headerlink" title="SVG Explorer Extension"></a>SVG Explorer Extension</h3><p>在Windows资源管理器中渲染SVG缩略图，以便您可以概览SVG文件；</p><h3 id="QuickLook"><a href="#QuickLook" class="headerlink" title="QuickLook"></a>QuickLook</h3><p>按空格键快速预览jpg、ps、文件夹等</p><p><img src="https://cdn.chiga.ga/Posts/Software/05/64730506-2a60d100-d4e8-11e9-95a6-f13dbd869b2a.jpeg"></p><p>项目地址：<a href="https://github.com/QL-Win/QuickLook">https://github.com/QL-Win/QuickLook</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Everything&quot;&gt;&lt;a href=&quot;#Everything&quot; class=&quot;headerlink&quot; title=&quot;Everything&quot;&gt;&lt;/a&gt;Everything&lt;/h2&gt;&lt;p&gt;Windows平台上的一款完全免费且高效的文件搜索软件；&lt;/p&gt;
&lt;p&gt;在输</summary>
      
    
    
    
    <category term="软  件" scheme="https://ll.sc.cn/categories/%E8%BD%AF-%E4%BB%B6/"/>
    
    
    <category term="装机必备" scheme="https://ll.sc.cn/tags/%E8%A3%85%E6%9C%BA%E5%BF%85%E5%A4%87/"/>
    
  </entry>
  
  <entry>
    <title>auto.js基础权限设置</title>
    <link href="https://ll.sc.cn/posts/6f01/"/>
    <id>https://ll.sc.cn/posts/6f01/</id>
    <published>2022-11-21T05:01:16.000Z</published>
    <updated>2022-12-09T09:22:48.971Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure><h2 id="ADB授权脚本自动开启无障碍权限"><a href="#ADB授权脚本自动开启无障碍权限" class="headerlink" title="ADB授权脚本自动开启无障碍权限"></a>ADB授权脚本自动开启无障碍权限</h2><h3 id="获取包名"><a href="#获取包名" class="headerlink" title="获取包名"></a>获取包名</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">toastLog</span>(context.<span class="title function_">getPackageName</span>());</span><br></pre></td></tr></table></figure><h3 id="开启无障碍权限"><a href="#开启无障碍权限" class="headerlink" title="开启无障碍权限"></a>开启无障碍权限</h3><p><code>$packageName$</code>替换成实际的<code>AutoJS</code>包名；</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm grant <span class="string">&#x27;$packageName$&#x27;</span> android.permission.WRITE_SECURE_SETTINGS</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm grant org.autojs.autojs6 android.permission.WRITE_SECURE_SETTINGS</span><br></pre></td></tr></table></figure><h3 id="撤销无障碍权限"><a href="#撤销无障碍权限" class="headerlink" title="撤销无障碍权限"></a>撤销无障碍权限</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm revoke <span class="string">&#x27;$packageName$&#x27;</span> android.permission.WRITE_SECURE_SETTINGS</span><br></pre></td></tr></table></figure><h2 id="投影媒体权限"><a href="#投影媒体权限" class="headerlink" title="投影媒体权限"></a>投影媒体权限</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell appops <span class="built_in">set</span> org.autojs.autojs6 PROJECT_MEDIA allow</span><br></pre></td></tr></table></figure><h2 id="检验ADB权限"><a href="#检验ADB权限" class="headerlink" title="检验ADB权限"></a>检验ADB权限</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">importClass</span>(android.<span class="property">content</span>.<span class="property">pm</span>.<span class="property">PackageManager</span>)</span><br><span class="line"><span class="title function_">toastLog</span>(<span class="string">&#x27;是否有ADB权限&#x27;</span> + (<span class="title class_">PackageManager</span>.<span class="property">PERMISSION_GRANTED</span> === context.<span class="title function_">getPackageManager</span>().<span class="title function_">checkPermission</span>(<span class="string">&#x27;android.permission.WRITE_SECURE_SETTINGS&#x27;</span>, context.<span class="title function_">getPackageName</span>())))</span><br></pre></td></tr></table></figure><h2 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Exception occurred while executing &#x27;set&#x27;:</span><br><span class="line">java.lang.SecurityException: uid 2000 does not have android.permission.MANAGE_APP_OPS_MODES.</span><br><span class="line">  at android.app.ContextImpl.enforce(ContextImpl.java:2189)</span><br><span class="line">  at android.app.ContextImpl.enforcePermission(ContextImpl.java:2198)</span><br><span class="line">  at com.android.server.appop.AppOpsService.enforceManageAppOpsModes(AppOpsService.java:2575)</span><br><span class="line">  at com.android.server.appop.AppOpsService.setMode(AppOpsService.java:2905)</span><br><span class="line">  at com.android.server.appop.AppOpsService.setMode(AppOpsService.java:2900)</span><br><span class="line">  at com.android.server.appop.AppOpsService.onShellCommand(AppOpsService.java:5680)</span><br><span class="line">  at com.android.server.appop.AppOpsService$Shell.onCommand(AppOpsService.java:5449)</span><br><span class="line">  at com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)</span><br><span class="line">  at android.os.ShellCommand.exec(ShellCommand.java:38)</span><br><span class="line">  at com.android.server.appop.AppOpsService.onShellCommand(AppOpsService.java:5621)</span><br><span class="line">  at android.os.Binder.shellCommand(Binder.java:971)</span><br><span class="line">  at android.os.Binder.onTransact(Binder.java:855)</span><br><span class="line">  at com.android.internal.app.IAppOpsService$Stub.onTransact(IAppOpsService.java:1198)</span><br><span class="line">  at com.android.server.appop.OplusAppOpsService.onTransact(OplusAppOpsService.java:38)</span><br><span class="line">  at android.os.Binder.execTransactInternal(Binder.java:1227)</span><br><span class="line">  at android.os.Binder.execTransact(Binder.java:1164)</span><br></pre></td></tr></table></figure><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p>设置 –&gt; 开发者选项 –&gt; 禁用监控权限</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://www.yuque.com/schwifty/xhosfz/ykq5ysxgcdkugzwy">通过ADB授权脚本自动开启无障碍权限</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="auto.js" scheme="https://ll.sc.cn/tags/auto-js/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】使用Algolia搜索</title>
    <link href="https://ll.sc.cn/posts/6eca/"/>
    <id>https://ll.sc.cn/posts/6eca/</id>
    <published>2022-11-12T07:57:32.000Z</published>
    <updated>2022-11-12T09:42:42.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="安装hexo-algolia插件"><a href="#安装hexo-algolia插件" class="headerlink" title="安装hexo-algolia插件"></a>安装hexo-algolia插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-algolia --save</span><br></pre></td></tr></table></figure><h2 id="创建-Alogolia-Index"><a href="#创建-Alogolia-Index" class="headerlink" title="创建 Alogolia Index"></a>创建 Alogolia Index</h2><p>首先登陆进入 <a href="https://www.algolia.com/">Algolia 官网</a>，我们可以使用<code>GitHub</code>或<code>Google</code>帐号登录；</p><p>依次点击左侧<code>Search</code>图标 –&gt; <code>Configure</code> –&gt; <code>Index</code>；</p><p>新建一个名为<code>hexo</code>的<code>Index</code>索引；</p><div class="note info flat"><p><code>Index</code>(索引)也就是搜索引擎中的数据库，我们所有的搜索相关信息都存在里面。</p></div><h2 id="配置-API-Key"><a href="#配置-API-Key" class="headerlink" title="配置 API Key"></a>配置 API Key</h2><p>接下来需要配置<code>Algolia</code>的<code>API Keys</code>到我们自己的<code>hexo</code>站点中，关联两者，使得<code>Algolia</code>能够搜集我们<code>hexo</code>站点的数据通过<code>API</code>发送给<code>Aloglia</code>；</p><p>依次点击左侧<code>Overview</code>图标 –&gt; <code>API Keys</code>；</p><p>记住<code>Your API Keys</code>下的<code>Application ID</code>和<code>Search-Only API Key</code>，在配置<code>_config.yml</code>用；</p><p>修改<code>[you_blog]</code>根目录下的<code>_config.yml</code>，添加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Algolia API配置</span></span><br><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">applicationID:</span> <span class="comment">#上一步API Keys界面的Application ID值</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="comment">#上一步API Keys界面的Search-Only API Key值</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">hexo</span> <span class="comment">#创建的索引名称</span></span><br></pre></td></tr></table></figure><h2 id="新建-App-Key"><a href="#新建-App-Key" class="headerlink" title="新建 App Key"></a>新建 App Key</h2><p>还需要创建一个新建<code>App Key</code>用来配置环境变量；</p><p>依次点击左侧<code>Overview</code> –&gt; <code>API Keys</code> –&gt; <code>All API Keys</code> –&gt; 右侧<code>New API Key</code>；</p><p>填好后点击<code>Create</code>完成创建；</p><table><thead><tr><th align="center">参数</th><th align="left"><div style="text-align: center">解释</div></th></tr></thead><tbody><tr><td align="center">Description</td><td align="left">描述（用于分辨创建的<code>key</code>用途）</td></tr><tr><td align="center">Indices</td><td align="left">选择刚刚创建的名为<code>hexo</code>的索引</td></tr><tr><td align="center">Validity</td><td align="left">有效期；<code>0</code>表示不过期</td></tr><tr><td align="center">Max API calls/IP/hour</td><td align="left">每小时允许从<code>IP</code>地址进行的最大<code>API</code>调用次数，<code>0</code> 表示无限制</td></tr><tr><td align="center">Max hits/query</td><td align="left">最大命中/查询数</td></tr><tr><td align="center">HTTP Referers</td><td align="left">有权使用该密钥的网站列表，空表示所有引用者都将授权</td></tr><tr><td align="center">ACL</td><td align="left">此密钥的权限列表，选择<code>search</code>、<code>browse</code>、<code>addObject</code>、<code>deleteObject</code>、<code>deleteIndex</code>、<code>listIndexes</code>、<code>usage</code></td></tr></tbody></table><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><p>在<code>[you_blog]</code>根目录下右键选择<code>git bash</code>执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HEXO_ALGOLIA_INDEXING_KEY=<span class="string">&quot;上一步新创建的APIKEY&quot;</span></span><br></pre></td></tr></table></figure><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>在<code>_config.butterfly.yml</code>中搜索<code>algolia_search</code>并修改:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Algolia search(Algolia搜索)</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">    <span class="attr">hits_empty:</span> <span class="string">&quot;没有找到任何搜索结果: $&#123;query&#125;&quot;</span></span><br><span class="line">    <span class="attr">hits_stats:</span> <span class="string">&quot;找到约$&#123;hits &#125;条结果( 用时$&#123;time &#125;ms)&quot;</span></span><br></pre></td></tr></table></figure><h2 id="更新索引"><a href="#更新索引" class="headerlink" title="更新索引"></a>更新索引</h2><p>在<code>hexo</code>站点根目录下执行<code>hexo algolia</code>来搜集数据更新到创建的<code>Index</code>中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></table></figure><p>接下来先在本地预览一下效果；</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp;  hexo s</span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://blog.csdn.net/qq_45173404/article/details/122861321">CSDN：Hexo集成Algolia实现搜索功能</a></li><li><a href="https://blog.csdn.net/m0_45234510/article/details/116885792">CSDN：Hexo成功集成【Algolia搜索】</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/62f6/"   title="17-文章双栏布局插件"><i class="far fa-hand-point-right"></i><span>17-文章双栏布局插件</span></a><a class="btn-beautify block left pink larger" href="/posts/bc28/"   title="15-新标签打开文章"><i class="far fa-hand-point-left"></i><span>15-新标签打开文章</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>Twikoo评论的MongoDB数据修改</title>
    <link href="https://ll.sc.cn/posts/e6ac/"/>
    <id>https://ll.sc.cn/posts/e6ac/</id>
    <published>2022-11-12T03:55:21.000Z</published>
    <updated>2022-12-09T09:22:48.971Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>本文基于<a href="https://twikoo.js.org/">Twikoo</a>评论系统，采用 <a href="https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2">Vercel 部署</a>。</p></div><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>因为从<code>Hugo</code>换到了<code>Hexo</code>，是用了<code>abbrlink</code>，导致了文章地址变了，导致一些评论不能正常显示，而本就不多的评论，不想丢弃。</p><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ol><li><p>登录<a href="https://cloud.mongodb.com/v2">MongoDB</a>；</p></li><li><p>依次选择<code>ORGANIZATION</code> –&gt; <code>Projects</code> –&gt; 选择部署Twikoo时创建的 <code>Project</code>；</p></li><li><p>依次选择<code>DEPLOYMENT</code> –&gt; <code>Database</code> –&gt; <code>Browse Collections</code>；</p></li></ol><p><img src="https://cdn.chiga.ga/Posts/Z-Turn/09_MongoDB/2022-11-12_12-47-39.webp"></p><ol start="4"><li>依次选择<code>Collections</code> –&gt; <code>myFirstDatabase</code> –&gt; <code>comment</code> 右侧就可以看到评论数据；</li></ol><p><img src="https://cdn.chiga.ga/Posts/Z-Turn/09_MongoDB/2022-11-12_12-48-23.webp"></p><ol start="5"><li>找到需要修改的点击右侧<strong>编辑按钮</strong>，编辑其中的<code>url</code>和<code>href</code>项即可；</li></ol><p><img src="https://cdn.chiga.ga/Posts/Z-Turn/09_MongoDB/2022-11-12_12-57-28.webp"></p><ol start="6"><li><p>若回复评论需要修改，则编辑<code>href</code>项中#号后面的值需要改成被回复评论的<code>_id</code>值，同时对应修改<code>pid</code>和<code>rid</code>值；</p></li><li><p>修改完成后点击右下角的<code>UPDATE</code>按钮生效。</p></li></ol><p><img src="https://cdn.chiga.ga/Posts/Z-Turn/09_MongoDB/2022-11-12_14-25-25.webp"></p><div class="note info flat"><p>如果评论量较大建议导出数据，修改完成后再导入；<br>因为小破站浏览量太低，评论者更是少之又少，故直接编辑了。</p></div><h2 id="参数解释"><a href="#参数解释" class="headerlink" title="参数解释"></a>参数解释</h2><table><thead><tr><th align="center">参数</th><th align="left"><div style="text-align: center">解释</div></th></tr></thead><tbody><tr><td align="center">_id</td><td align="left">自动生成的评论id值</td></tr><tr><td align="center">nick</td><td align="left">评论者昵称</td></tr><tr><td align="center">mail</td><td align="left">评论者邮箱地址</td></tr><tr><td align="center">mailMd5</td><td align="left">邮箱MD5加密</td></tr><tr><td align="center">link</td><td align="left">评论者网址</td></tr><tr><td align="center">ua</td><td align="left">评论者评论时的浏览器UA</td></tr><tr><td align="center">ip</td><td align="left">评论者评论是的ip地址</td></tr><tr><td align="center">url</td><td align="left">评论所在的页面</td></tr><tr><td align="center">href</td><td align="left">在评论后台点击查看跳转的地址</td></tr><tr><td align="center">comment</td><td align="left">评论内容正文</td></tr><tr><td align="center">pid</td><td align="left">被回复评论的id值</td></tr><tr><td align="center">rid</td><td align="left">被回复评论的id值</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;本文基于&lt;a href=&quot;https://twikoo.js.org/&quot;&gt;Twikoo&lt;/a&gt;评论系统，采用 &lt;a href=&quot;https://twikoo.js.org/quick-start.html#ver</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="MongoDB" scheme="https://ll.sc.cn/tags/MongoDB/"/>
    
    <category term="Twikoo评论" scheme="https://ll.sc.cn/tags/Twikoo%E8%AF%84%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>使用 Github Action 自动部署 Hexo 博客</title>
    <link href="https://ll.sc.cn/posts/10d9/"/>
    <id>https://ll.sc.cn/posts/10d9/</id>
    <published>2022-11-11T01:43:07.000Z</published>
    <updated>2022-11-11T01:44:09.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="获取-Token"><a href="#获取-Token" class="headerlink" title="获取 Token"></a>获取 Token</h2><p>为了确保交由<code>Github Action</code>来持续部署时，<code>Github Action</code> 具备足够的权限来进行 <code>hexo deploy</code> 操作,需要先获取 <code>Token</code>。</p><p>访问 <code>Github</code> –&gt; 右上角头像 –&gt; <code>Settings</code> –&gt; <code>Developer Settings</code> –&gt; <code>Personal access tokens</code> –&gt; <code>Tokens (classic)</code> –&gt; <code>generate new token</code> –&gt; <code>Generate new token (classic)</code></p><ul><li><code>Note</code>(名称)：随意；</li><li><code>Expiration</code>：<code>No expiration</code>(永不过期)；</li><li><code>Select scopes</code>：必须勾选 <code>repo</code> 项 和 <code>workflows</code> 项。</li></ul><div class="note warning flat"><p><code>token</code> 只会显示这一次，之后将无法查看，所以务必保证你已经记录下了 <code>Token</code>。之后如果忘记了就只能重新生成重新配置了。</p></div><h2 id="创建存放源码的私有仓库"><a href="#创建存放源码的私有仓库" class="headerlink" title="创建存放源码的私有仓库"></a>创建存放源码的私有仓库</h2><p>我们需要创建一个用来存放 <code>Hexo</code> 博客源码的私有仓库<code>[SourceRepo]</code></p><p>访问 <code>Github</code> –&gt; 右上角头像左侧 <code>+</code> 号 –&gt; <code>New repository</code>，名称随意，类型选择 <code>Private</code>  –&gt; <code>Create repository</code>。</p><p>创建完成后，需要把博客的源码<code>[Blogroot] push</code> 到这里。</p><div class="note info flat"><p>这里之所以是私有仓库，是因为在接下来的配置中会用到 <code>Token</code>，如果 <code>Token</code> 被盗用，别人可以肆意操作你的 <code>github</code> 仓库内容，为了避免这一风险，才选择的博客源码闭源。</p></div><h2 id="创建存放渲染后文件的公开仓库"><a href="#创建存放渲染后文件的公开仓库" class="headerlink" title="创建存放渲染后文件的公开仓库"></a>创建存放渲染后文件的公开仓库</h2><p>访问 <code>Github</code> –&gt; 右上角头像左侧 <code>+</code> 号 –&gt; <code>New repository</code>，名称随意，类型选择 <code>Public</code>  –&gt; <code>Create repository</code>。</p><h2 id="配置-Github-Action"><a href="#配置-Github-Action" class="headerlink" title="配置 Github Action"></a>配置 Github Action</h2><p>在<code>[Blogroot]</code>新建<code>.github</code>文件夹,注意开头是有个<code>.</code>的。然后在<code>.github</code> 内新建 <code>workflows</code> 文件夹，再在 <code>workflows</code> 文件夹内新建 <code>autodeploy.yml</code>,在<code>[Blogroot]/.github/workflows/autodeploy.yml</code> 里面输入</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">自动部署</span></span><br><span class="line"><span class="comment"># 当有改动推送到master分支时，启动Action</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">      <span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line">  <span class="attr">release:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">published</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Node</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;12.x&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          export TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="string">          npm install hexo-cli -g</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">缓存</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install --save</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署到Github</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">JamesIves/github-pages-deploy-action@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">token:</span> <span class="comment"># 填写自己获取的token</span></span><br><span class="line">          <span class="attr">repository-name:</span> <span class="comment">#格式为：[GitHub用户名]/[上一步创建的公开仓库名]</span></span><br><span class="line">          <span class="attr">branch:</span> <span class="string">master</span> <span class="comment">#分支名</span></span><br><span class="line">          <span class="attr">folder:</span> <span class="string">public</span></span><br><span class="line">          <span class="attr">commit-message:</span> <span class="string">&quot;$<span class="template-variable">&#123;&#123; github.event.head_commit.message &#125;&#125;</span> Updated By Github Actions&quot;</span></span><br></pre></td></tr></table></figure><h2 id="推动到远程仓库"><a href="#推动到远程仓库" class="headerlink" title="推动到远程仓库"></a>推动到远程仓库</h2><div class="note default flat"><p>若更改过配置文件，在推送之前，建议先本地生成静态文件试运行，防止因代码格式等问题自动部署失败。</p><p>同时在自动部署 –&gt; 生成静态文件出错也可以同理反查问题源。</p></div><h3 id="重新设置远程仓库和分支"><a href="#重新设置远程仓库和分支" class="headerlink" title="重新设置远程仓库和分支"></a>重新设置远程仓库和分支</h3><p>删除或者先把<code>[Blogroot]/themes/butterfly/.git</code>移动到非博客文件夹目录下,原因是主题文件夹下的<code>.git</code>文件夹的存在会导致其被识别成子项目，从而无法被上传到源码仓库。</p><p>在博客根目录<code>[Blogroot]</code>路径下运行指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init <span class="comment">#初始化</span></span><br><span class="line">git remote add origin git@github.com:[GithubUsername]/[SourceRepo].git <span class="comment">#[SourceRepo]为存放源码的github私有仓库</span></span><br><span class="line">git checkout -b master <span class="comment"># 切换到master分支，</span></span><br><span class="line"><span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line"><span class="comment"># 如果不是，后面的所有设置的分支记得保持一致</span></span><br></pre></td></tr></table></figure><h3 id="添加屏蔽项"><a href="#添加屏蔽项" class="headerlink" title="添加屏蔽项"></a>添加屏蔽项</h3><p>因为能够使用指令进行安装的内容不包括在需要提交的源码内，所有我们需要将这些内容添加到屏蔽项，表示不上传到 <code>github</code> 上。这样可以显著减少需要提交的文件量和加快提交速度。打开<code>[Blogroot]/.gitignore</code>,输入以下内容：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">.deploy_git*/</span><br><span class="line">.idea</span><br><span class="line">themes/butterfly/.git</span><br></pre></td></tr></table></figure><p>如果不是<code>butterfly</code>主题，记得替换最后一行内容为你自己当前使用的主题。</p><p>运行 <code>git</code> 提交指令，将博客源码提交到 <code>github</code> 源码私有仓库。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;github action update&quot;</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br></pre></td></tr></table></figure><h2 id="查看部署情况"><a href="#查看部署情况" class="headerlink" title="查看部署情况"></a>查看部署情况</h2><p>打开 <code>GIthub</code> 存放源码的私有仓库 –&gt; <code>action</code>。</p><p>根据刚刚的 <code>Commit</code> 记录找到相应的任务</p><p>点击 <code>Deploy</code> 查看部署情况</p><p>全部打钩，完成自动部署。</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://anzhiy.cn/posts/asdx.html">安知鱼：使用 Github Action 自动部署</a></li><li><a href="https://akilar.top/posts/f752c86d/">Akilar の糖果屋：使用Github Action实现全自动部署</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;获取-Token&quot;&gt;&lt;a href=&quot;#获取-Token&quot; class=&quot;headerlink&quot; title=&quot;获取 Token&quot;&gt;&lt;/a&gt;获取 Token&lt;/h2&gt;&lt;p&gt;为了确保交由&lt;code&gt;Github Action&lt;/code&gt;来持续部署时，&lt;code&gt;G</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Github" scheme="https://ll.sc.cn/tags/Github/"/>
    
    <category term="自动部署" scheme="https://ll.sc.cn/tags/%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】添加自定义css和js文件</title>
    <link href="https://ll.sc.cn/posts/a58c/"/>
    <id>https://ll.sc.cn/posts/a58c/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><p>如果是全站<code>css/js</code>的话，可以在主题配置文件里的<code>inject</code>下的<code>head</code>和<code>bottom</code>里引入，如果是某一页的，可以在该页里面直接引入。</p><p>在<code>source</code>文件夹里面创建<code>js</code>和<code>css</code>文件夹，如果你有其他需求，也可以在这里创建文件夹，例如存放图片的<code>img</code>文件夹，存放字体的<code>font</code>文件夹等等。</p><p>在主题配置文件<code>_config.butterfly.yml</code>里面的<code>inject</code>引入。</p><p><code>css</code>文件在<code>head</code>引入，<code>js</code>文件在<code>bottom</code>里引入，有的<code>js</code>要求在<code>head</code>引入，不然无法生效。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># 自定义css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/style.css?v1&quot;&gt;</span></span><br><span class="line">    <span class="comment"># 静态文件后面加个  ?任意内容  可以在每次更新之后用户自动重新请求.</span></span><br><span class="line">    <span class="comment"># 例如添加 ?1 ,在修改此文件后改成 ?2 ,用户访问你的网站时,不会使用本地的缓存,而是请求新的内容。没修改的话就不用动。</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># 自定义js</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/script.js?v1&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># 引入多个文件就直接往下复制一行改一下文件名即可，如下：</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/script1.js?v1&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/script2.js?v1&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>注意：路径写法应为<code>/xxx</code>，不能写为<code>./xxx</code>。</p><a class="btn-beautify block right pink larger" href="/posts/3bf4/"   title="02-footer栏"><i class="far fa-hand-point-right"></i><span>02-footer栏</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】footer栏</title>
    <link href="https://ll.sc.cn/posts/3bf4/"/>
    <id>https://ll.sc.cn/posts/3bf4/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="footer-中间小心心"><a href="#footer-中间小心心" class="headerlink" title="footer 中间小心心"></a>footer 中间小心心</h2><h3 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h3><p>在主题配置文件<code>_config.butterfly.yml</code>中，找到<code>footer:</code>增加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">and:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/love/</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fas</span> <span class="string">fa-heartbeat</span></span><br></pre></td></tr></table></figure><h3 id="修改footer-pug"><a href="#修改footer-pug" class="headerlink" title="修改footer.pug"></a>修改footer.pug</h3><p>修改<code>[you_blog]\themes\butterfly\layout\includes\footer.pug</code>文件中以下内为：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-if theme.footer.owner.since &amp;&amp; theme.footer.owner.since != nowYear</span></span><br><span class="line"><span class="deletion">-  .copyright!= `&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125; By $&#123;config.author&#125;`</span></span><br><span class="line"><span class="deletion">-else</span></span><br><span class="line"><span class="deletion">-  .copyright!= `&amp;copy;$&#123;nowYear&#125; By $&#123;config.author&#125;`</span></span><br><span class="line"><span class="addition">+if theme.footer.owner.since &amp;&amp; theme.footer.owner.since != nowYear</span></span><br><span class="line"><span class="addition">+  .copyright!= `&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125; &lt;a href=&quot;$&#123;theme.footer.and.url&#125;&quot; target=&quot;_blank&quot; one-link-mark=&quot;yes&quot;&gt;&amp;nbsp;&lt;i class=&quot;$&#123;theme.footer.and.icon&#125;&quot;&gt;&lt;/i&gt;&amp;nbsp;&lt;/a&gt; $&#123;config.author&#125;`</span></span><br><span class="line"><span class="addition">+else</span></span><br><span class="line"><span class="addition">+  .copyright!= `&amp;copy;$&#123;nowYear&#125; &lt;a href=&quot;$&#123;theme.footer.and.url&#125;&quot; target=&quot;_blank&quot; one-link-mark=&quot;yes&quot;&gt;&amp;nbsp;&lt;i class=&quot;$&#123;theme.footer.and.icon&#125;&quot;&gt;&lt;/i&gt;&amp;nbsp;&lt;/a&gt; $&#123;config.author&#125;`</span></span><br></pre></td></tr></table></figure><a class="btn-beautify block right pink larger" href="/posts/19a1/"   title="03-友链卡片样式"><i class="far fa-hand-point-right"></i><span>03-友链卡片样式</span></a><a class="btn-beautify block left pink larger" href="/posts/a58c/"   title="01-添加自定义css和js文件"><i class="far fa-hand-point-left"></i><span>01-添加自定义css和js文件</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】友链卡片样式</title>
    <link href="https://ll.sc.cn/posts/19a1/"/>
    <id>https://ll.sc.cn/posts/19a1/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><p>修改<code>[you_blog]\themes\butterfly\layout\includes\page\flink.pug</code>,此处添加判断机制，使得可以通过修改配置文件来切换友链风格，同时为了方便管理，把各个友链样式放到新建的文件目录；</p><div class="tabs" id="comments"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#comments-1">flink.pug</button></li><li class="tab"><button type="button" data-href="#comments-2">butterfly.pug</button></li><li class="tab"><button type="button" data-href="#comments-3">volantis.pug</button></li><li class="tab"><button type="button" data-href="#comments-4">flexcard.pug</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="comments-1"><p>修改<code>[you_blog]\themes\butterfly\layout\includes\page\flink.pug</code>，全部内容替换为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">case theme.flink_style</span><br><span class="line">  when &#x27;volantis&#x27;</span><br><span class="line">    include ./flink_style/volantis.pug</span><br><span class="line">  when &#x27;flexcard&#x27;</span><br><span class="line">    include ./flink_style/flexcard.pug</span><br><span class="line">  default</span><br><span class="line">    include ./flink_style/butterfly.pug</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="comments-2"><p>新建<code>[you_blog]\themes\butterfly\layout\includes\page\flink_style\butterfly.pug</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#article-container</span><br><span class="line">  if top_img === false</span><br><span class="line">    h1.page-title= page.title</span><br><span class="line">  .flink</span><br><span class="line">    if site.data.link</span><br><span class="line">      each i in site.data.link</span><br><span class="line">        if i.class_name</span><br><span class="line">          h2!= i.class_name</span><br><span class="line">        if i.class_desc</span><br><span class="line">          .flink-desc!=i.class_desc</span><br><span class="line">        .flink-list</span><br><span class="line">          each item in i.link_list</span><br><span class="line">            .flink-list-item</span><br><span class="line">              a(href=url_for(item.link)  title=item.name target=&quot;_blank&quot;)</span><br><span class="line">                .flink-item-icon</span><br><span class="line">                  img.no-lightbox(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=item.name )</span><br><span class="line">                .flink-item-name= item.name</span><br><span class="line">                .flink-item-desc(title=item.descr)= item.descr</span><br><span class="line">  != page.content</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="comments-3"><p>新建<code>[you_blog]\themes\butterfly\layout\includes\page\flink_style\volantis.pug</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#article-container</span><br><span class="line">  if top_img === false</span><br><span class="line">    h1.page-title= page.title</span><br><span class="line">  .flink</span><br><span class="line">    if site.data.link</span><br><span class="line">      each i in site.data.link</span><br><span class="line">        if i.class_name</span><br><span class="line">          h2!= i.class_name</span><br><span class="line">        if i.class_desc</span><br><span class="line">          .flink-desc!=i.class_desc</span><br><span class="line">        .site-card-group</span><br><span class="line">          each item in i.link_list</span><br><span class="line">            a.site-card(target=&#x27;_blank&#x27; rel=&#x27;noopener&#x27; href=url_for(item.link))</span><br><span class="line">              .img</span><br><span class="line">                - var siteshot = item.siteshot ? url_for(item.siteshot) : &#x27;https://image.thum.io/get/width/400/crop/800/allowJPG/wait/20/noanimate/&#x27; + item.link</span><br><span class="line">                img.no-lightbox(src=siteshot onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">              .info</span><br><span class="line">                img.no-lightbox(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                span.title= item.name</span><br><span class="line">                span.desc(title=item.descr)= item.descr</span><br><span class="line">  != page.content</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="comments-4"><p>新建<code>[you_blog]\themes\butterfly\layout\includes\page\flink_style\flexcard.pug</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#article-container</span><br><span class="line">  if top_img === false</span><br><span class="line">    h1.page-title= page.title</span><br><span class="line">  .flink</span><br><span class="line">    if site.data.link</span><br><span class="line">      each i in site.data.link</span><br><span class="line">        if i.class_name</span><br><span class="line">          h2!= i.class_name</span><br><span class="line">        if i.class_desc</span><br><span class="line">          .flink-desc!=i.class_desc</span><br><span class="line">        .flink-list</span><br><span class="line">          each item in i.link_list</span><br><span class="line">            a.flink-list-card(href=url_for(item.link) target=&#x27;_blank&#x27; data-title=item.descr)</span><br><span class="line">              .wrapper.cover</span><br><span class="line">                - var siteshot = item.siteshot ? url_for(item.siteshot) : &#x27;https://image.thum.io/get/width/400/crop/800/allowJPG/wait/20/noanimate/&#x27; + item.link</span><br><span class="line">                img.no-lightbox.cover.fadeIn(src=siteshot onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;` alt=&#x27;&#x27; )    </span><br><span class="line">              .info</span><br><span class="line">                img.no-lightbox(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                span.flink-sitename= item.name</span><br><span class="line">  != page.content</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h2><p>修改<code>[you_blog]\themes\butterfly\source\css\_page\flink.styl</code>,同理，将样式文件也放到新建的<code>[you_blog]\themes\butterfly\source\css\_flink_style</code>目录下方便管理。</p><div class="tabs" id="comments"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#comments-1">flink.styl</button></li><li class="tab"><button type="button" data-href="#comments-2">butterfly.styl</button></li><li class="tab"><button type="button" data-href="#comments-3">volantis.styl</button></li><li class="tab"><button type="button" data-href="#comments-4">flexcard.styl</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="comments-1"><p>修改<code>[you_blog]\themes\butterfly\source\css\_page\flink.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;flink_style&#x27;</span>) == <span class="string">&#x27;butterfly&#x27;</span></span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_flink_style/butterfly&#x27;</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;flink_style&#x27;</span>) == <span class="string">&#x27;volantis&#x27;</span></span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_flink_style/volantis&#x27;</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;flink_style&#x27;</span>) == <span class="string">&#x27;flexcard&#x27;</span></span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;./_flink_style/flexcard&#x27;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="comments-2"><p>新建<code>[you_blog]\themes\butterfly\source\css\_flink_style\butterfly.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">.flink<span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span></span><br><span class="line"><span class="selector-class">.flink-desc</span></span><br><span class="line">  <span class="attribute">margin</span>: .<span class="number">2rem</span> <span class="number">0</span> .<span class="number">5rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flink-list</span></span><br><span class="line">  <span class="attribute">overflow</span>: auto</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">text-align</span>: center</span><br><span class="line"></span><br><span class="line">  &amp; &gt; <span class="selector-class">.flink-list-item</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">float</span>: left</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">7px</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">3</span> - <span class="number">15px</span>)</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">90px</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span></span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">17px</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">maxWidth1024</span>()</span><br><span class="line">      <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">15px</span>) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">    +<span class="built_in">maxWidth600</span>()</span><br><span class="line">      <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">15px</span>) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-class">.flink-item-icon</span></span><br><span class="line">        <span class="attribute">margin-left</span>: -<span class="number">10px</span></span><br><span class="line">        <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">      <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">0</span></span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">      <span class="attribute">z-index</span>: -<span class="number">1</span></span><br><span class="line">      <span class="attribute">background</span>: <span class="built_in">var</span>(--text-bg-hover)</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="attribute">transition</span>: transform .<span class="number">3s</span> ease-out</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">    <span class="selector-pseudo">&amp;:focus</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">    <span class="selector-pseudo">&amp;:active</span><span class="selector-pseudo">:before</span></span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color)</span><br><span class="line">      <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.flink-item-icon</span></span><br><span class="line">        <span class="attribute">float</span>: left</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">10px</span></span><br><span class="line">        <span class="attribute">width</span>: <span class="number">60px</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">60px</span></span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">35px</span></span><br><span class="line">        <span class="attribute">transition</span>: width .<span class="number">3s</span> ease-out</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">img</span></span><br><span class="line">          <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">          <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">          <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span>, transform .<span class="number">3s</span></span><br><span class="line">          <span class="attribute">object-fit</span>: cover</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.img-alt</span></span><br><span class="line">        <span class="attribute">display</span>: none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flink-item-name</span></span><br><span class="line">  <span class="keyword">@extend</span> <span class="selector-class">.limit-one-line</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span></span><br><span class="line">  <span class="attribute">font-weight</span>: bold</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.43em</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flink-item-desc</span></span><br><span class="line">  <span class="keyword">@extend</span> <span class="selector-class">.limit-one-line</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">10px</span> <span class="number">16px</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span></span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">93em</span></span><br><span class="line"><span class="selector-class">.flink-name</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">5px</span></span><br><span class="line">  <span class="attribute">font-weight</span>: bold</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="comments-3"><p>新建<code>[you_blog]\themes\butterfly\source\css\_flink_style\volantis.styl</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">trans($time = 0.28s)</span><br><span class="line">  transition: all $time ease</span><br><span class="line">  -moz-transition: all $time ease</span><br><span class="line">  -webkit-transition: all $time ease</span><br><span class="line">  -o-transition: all $time ease</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.site-card-group</span><br><span class="line">  display: flex</span><br><span class="line">  flex-wrap: wrap</span><br><span class="line">  justify-content: flex-start</span><br><span class="line">  margin: -0.5 * 16px</span><br><span class="line">  align-items: stretch</span><br><span class="line">.site-card</span><br><span class="line">  margin: 16px * 0.5</span><br><span class="line">  width: &quot;calc(100% / 4 - %s)&quot; % 16px</span><br><span class="line">  @media screen and (min-width: 2048px)</span><br><span class="line">      width: &quot;calc(100% / 5 - %s)&quot; % 16px</span><br><span class="line">  @media screen and (max-width: 768px)</span><br><span class="line">      width: &quot;calc(100% / 3 - %s)&quot; % 16px</span><br><span class="line">  @media screen and (max-width: 500px)</span><br><span class="line">      width: &quot;calc(100% / 2 - %s)&quot; % 16px</span><br><span class="line">  display: block</span><br><span class="line">  line-height: 1.4</span><br><span class="line">  height 100%</span><br><span class="line">  .img</span><br><span class="line">    width: 100%</span><br><span class="line">    height 120px</span><br><span class="line">    @media screen and (max-width: 500px)</span><br><span class="line">      height 100px</span><br><span class="line">    overflow: hidden</span><br><span class="line">    border-radius: 12px * 0.5</span><br><span class="line">    box-shadow: 0 1px 2px 0px rgba(0, 0, 0, 0.2)</span><br><span class="line">    background: #f6f6f6</span><br><span class="line">    img</span><br><span class="line">      width: 100%</span><br><span class="line">      height 100%</span><br><span class="line">      pointer-events:none;</span><br><span class="line">      // trans(.75s)</span><br><span class="line">      transition: transform 2s ease</span><br><span class="line">      object-fit: cover</span><br><span class="line"></span><br><span class="line">  .info</span><br><span class="line">    margin-top: 16px * 0.5</span><br><span class="line">    img</span><br><span class="line">      width: 32px</span><br><span class="line">      height: 32px</span><br><span class="line">      pointer-events:none;</span><br><span class="line">      border-radius: 16px</span><br><span class="line">      float: left</span><br><span class="line">      margin-right: 8px</span><br><span class="line">      margin-top: 2px</span><br><span class="line">    span</span><br><span class="line">      display: block</span><br><span class="line">    .title</span><br><span class="line">      font-weight: 600</span><br><span class="line">      font-size: var(--global-font-size)</span><br><span class="line">      color: #444</span><br><span class="line">      display: -webkit-box</span><br><span class="line">      -webkit-box-orient: vertical</span><br><span class="line">      overflow: hidden</span><br><span class="line">      -webkit-line-clamp: 1</span><br><span class="line">      trans()</span><br><span class="line">    .desc</span><br><span class="line">      font-size: var(--global-font-size)</span><br><span class="line">      word-wrap: break-word;</span><br><span class="line">      line-height: 1.2</span><br><span class="line">      color: #888</span><br><span class="line">      display: -webkit-box</span><br><span class="line">      -webkit-box-orient: vertical</span><br><span class="line">      overflow: hidden</span><br><span class="line">      -webkit-line-clamp: 2</span><br><span class="line">  .img</span><br><span class="line">    trans()</span><br><span class="line">  &amp;:hover</span><br><span class="line">    .img</span><br><span class="line">      box-shadow: 0 4px 8px 0px rgba(0, 0, 0, 0.1), 0 2px 4px 0px rgba(0, 0, 0, 0.1), 0 4px 8px 0px rgba(0, 0, 0, 0.1), 0 8px 16px 0px rgba(0, 0, 0, 0.1)</span><br><span class="line">    .info .title</span><br><span class="line">      color: #ff5722</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="comments-4"><p>新建<code>[you_blog]\themes\butterfly\source\css\_flink_style\flexcard.styl</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">#article-container img</span><br><span class="line">  margin 0 auto!important</span><br><span class="line">.flink-list</span><br><span class="line">  overflow auto</span><br><span class="line">  &amp; &gt; a</span><br><span class="line">    width calc(25% - 15px)</span><br><span class="line">    height 130px</span><br><span class="line">    position relative</span><br><span class="line">    display block</span><br><span class="line">    margin 15px 7px</span><br><span class="line">    float left</span><br><span class="line">    overflow hidden</span><br><span class="line">    border-radius 10px</span><br><span class="line">    transition all .3s ease 0s, transform .6s cubic-bezier(.6, .2, .1, 1) 0s</span><br><span class="line">    box-shadow 0 14px 38px rgba(0, 0, 0, .08), 0 3px 8px rgba(0, 0, 0, .06)</span><br><span class="line">    &amp;:hover</span><br><span class="line">      .info</span><br><span class="line">        transform translateY(-100%)</span><br><span class="line">      .wrapper</span><br><span class="line">        img</span><br><span class="line">          transform scale(1.2)</span><br><span class="line">      &amp;::before</span><br><span class="line">        position: fixed</span><br><span class="line">        width:inherit</span><br><span class="line">        margin:auto</span><br><span class="line">        left:0</span><br><span class="line">        right:0</span><br><span class="line">        top:10%</span><br><span class="line">        border-radius: 10px</span><br><span class="line">        text-align: center</span><br><span class="line">        z-index: 100</span><br><span class="line">        content: attr(data-title)</span><br><span class="line">        font-size: 20px</span><br><span class="line">        color: #fff</span><br><span class="line">        padding: 10px</span><br><span class="line">        background-color: rgba($theme-color,0.8)</span><br><span class="line">    .cover</span><br><span class="line">      width 100%</span><br><span class="line">      transition transform .5s ease-out</span><br><span class="line">    .wrapper</span><br><span class="line">      position relative</span><br><span class="line">      .fadeIn</span><br><span class="line">        animation coverIn .8s ease-out forwards</span><br><span class="line">      img</span><br><span class="line">        height 130px</span><br><span class="line">        pointer-events none</span><br><span class="line">    .info</span><br><span class="line">      display flex</span><br><span class="line">      flex-direction column</span><br><span class="line">      justify-content center</span><br><span class="line">      align-items center</span><br><span class="line">      width 100%</span><br><span class="line">      height 100%</span><br><span class="line">      overflow hidden</span><br><span class="line">      border-radius 3px</span><br><span class="line">      background-color hsla(0, 0%, 100%, .7)</span><br><span class="line">      transition transform .5s cubic-bezier(.6, .2, .1, 1) 0s</span><br><span class="line">      img</span><br><span class="line">        position relative</span><br><span class="line">        top 22px</span><br><span class="line">        width 66px</span><br><span class="line">        height 66px</span><br><span class="line">        border-radius 50%</span><br><span class="line">        box-shadow 0 0 10px rgba(0, 0, 0, .3)</span><br><span class="line">        z-index 1</span><br><span class="line">        text-align center</span><br><span class="line">        pointer-events none</span><br><span class="line">      span</span><br><span class="line">        padding 20px 10% 60px 10%</span><br><span class="line">        font-size 16px</span><br><span class="line">        width 100%</span><br><span class="line">        text-align center</span><br><span class="line">        box-shadow 0 0 10px rgba(0, 0, 0, .3)</span><br><span class="line">        background-color hsla(0, 0%, 100%, .7)</span><br><span class="line">        color var(--font-color)</span><br><span class="line">        white-space nowrap</span><br><span class="line">        overflow hidden</span><br><span class="line">        text-overflow ellipsis</span><br><span class="line">.flink-list&gt;a .info,</span><br><span class="line">.flink-list&gt;a .wrapper .cover</span><br><span class="line">  position absolute</span><br><span class="line">  top 0</span><br><span class="line">  left 0</span><br><span class="line">@media screen and (max-width:1024px)</span><br><span class="line">  .flink-list</span><br><span class="line">    &amp; &gt; a</span><br><span class="line">      width calc(33.33333% - 15px)</span><br><span class="line"></span><br><span class="line">@media screen and (max-width:600px)</span><br><span class="line">  .flink-list</span><br><span class="line">    &amp; &gt; a</span><br><span class="line">      width calc(50% - 15px)</span><br><span class="line"></span><br><span class="line">[data-theme=dark]</span><br><span class="line">  .flink-list a .info,</span><br><span class="line">  .flink-list a .info span</span><br><span class="line">    background-color rgba(0, 0, 0, .6)</span><br><span class="line">  .flink-list</span><br><span class="line">    &amp; &gt; a</span><br><span class="line">      &amp;:hover</span><br><span class="line">        &amp;:before</span><br><span class="line">          background-color: rgba(#121212,0.8);</span><br><span class="line">.justified-gallery &gt; div &gt; img,</span><br><span class="line">.justified-gallery &gt; figure &gt; img,</span><br><span class="line">.justified-gallery &gt; a &gt; a &gt; img,</span><br><span class="line">.justified-gallery &gt; div &gt; a &gt; img,</span><br><span class="line">.justified-gallery &gt; figure &gt; a &gt; img,</span><br><span class="line">.justified-gallery &gt; a &gt; svg,</span><br><span class="line">.justified-gallery &gt; div &gt; svg,</span><br><span class="line">.justified-gallery &gt; figure &gt; svg,</span><br><span class="line">.justified-gallery &gt; a &gt; a &gt; svg,</span><br><span class="line">.justified-gallery &gt; div &gt; a &gt; svg,</span><br><span class="line">.justified-gallery &gt; figure &gt; a &gt; svg</span><br><span class="line">  position static!important</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="友链填写"><a href="#友链填写" class="headerlink" title="友链填写"></a>友链填写</h2><p>因为<code>Volantis</code>的<code>site-card</code>比<code>Butterfly</code>的<code>flink-card</code>多出了一个站点缩略图，所以需要再额外添加一条配置项。修改<code>[you_blog]\source\_data\link.yml</code>,添加一条名为<code>siteshot</code>的配置项。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> </span><br><span class="line">  <span class="attr">class_desc:</span> </span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">雷雷屋头</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://ll.sc.cn</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://ll.sc.cn/img/avatar.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">假装是个室内设计师的工地搬砖狗。</span></span><br><span class="line">      <span class="attr">siteshot:</span>  <span class="comment"># siteshot就是站点缩略图的链接。</span></span><br></pre></td></tr></table></figure><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>在<code>[you_blog]\_config.butterfly.yml</code>中添加配置项：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 友链样式，butterfly为默认样式，volantis为站点卡片样式.flexcard为弹性卡片样式</span></span><br><span class="line"><span class="attr">flink_style:</span> <span class="string">volantis</span> <span class="comment"># butterfly | volantis | flexcard</span></span><br></pre></td></tr></table></figure><p>可能遇到的<code>bug</code>：</p><ul><li>使用<code>flexcard</code>样式时，因为全站字体大小配置与本站不一致的关系，可能导致友链卡片的头像位置偏移较大。请读者按照<code>flink.styl</code>里的注释内容自己微调。</li></ul><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://akilar.top/posts/57291286/">Friend Link Card Beautify</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><i class="far fa-hand-point-right"></i><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify block left pink larger" href="/posts/3bf4/"   title="02-footer栏"><i class="far fa-hand-point-left"></i><span>02-footer栏</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】站点图片批量半自动截图</title>
    <link href="https://ll.sc.cn/posts/ddd2/"/>
    <id>https://ll.sc.cn/posts/ddd2/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><p>这里使用的是<a href="https://cyfan.top/">@ChenYFan</a>大佬的项目，通过调用<code>thum.io</code>提供的接口，配合<code>Github Action</code>，自动下载站点截图到<code>Github</code>中，再配合<code>jsdelivr+Github</code>图床来引用图片。</p><ol><li>首先<code>fork</code>项目到自己的<code>Github</code>仓库。此处提供两个。一个是原项目。一个是我自己配置过的项目。区别在于我根据<code>thum.io</code>提供的接口文档修改了参数，使得站点截图较小。（用我自己的站点截图作为示例，两者大小是<code>1.2MB：34KB</code>的程度，缩小了将近<code>40</code>倍。当然清晰度也不可同日而语，酌情选择）</li></ol><div class="btn-center"><a class="btn-beautify pink larger" href="https://github.com/ChenYFan/ScreenShot"   title="原项目 By ChenYFan"><i class="far fa-hand-point-right"></i><span>原项目 By ChenYFan</span></a><a class="btn-beautify purple larger" href="https://github.com/Akilarlxh/ScreenShot"   title="优化项目 By Akilarlxh"><i class="far fa-hand-point-right"></i><span>优化项目 By Akilarlxh</span></a></div><ol start="2"><li>获取<code>Token</code>，访问<code>Github</code>-&gt;头像（右上角）-&gt;<code>Settings</code>-&gt;<code>Developer Settings</code>-&gt;<code>Personal access tokens</code>-&gt;<code>generate new token</code>,创建的<code>Token</code>名称随意，但必须勾选<code>repo</code>项和<code>workflow</code>。</li></ol><div class="note warning flat"><p>如果你的<code>Token</code>有<code>repo</code>和<code>workflow</code>权限可以不用重新获取。</p></div><ol start="3"><li><p>在你<code>fork</code>的项目仓库设置中，新建<code>secrets</code>。变量名为<code>TOKEN</code>，必须严格大写。</p></li><li><p>将项目<code>clone</code>到本地。</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/[GithubUsername]/ScreenShot.git</span><br></pre></td></tr></table></figure><ol start="5"><li>然后打开项目中的<code>ScreenShot\.github\workflows\get.yml</code>,按照示例添加你的友链地址。</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://image.thum.io/get/width/400/crop/800/allowJPG/wait/20/noanimate/https://&lt;YourDomain&gt;/ -o &lt;YourDoamin&gt;.jpg</span><br></pre></td></tr></table></figure><ol start="6"><li><p>记得将<code>curl https://purge.jsdelivr.net/gh/[GithubUsername]/ScreenShot@gh-pages/*.*</code>中的<code>[GithubUsername]</code>改为你自己的<code>Github</code>账号名。</p></li><li><p>之后每次提交就会自动启动<code>Github Action</code>，将图片下载到<code>ScreenShot</code>的<code>gh-pages</code>分支。并且通过<code>purge.jsdelivr.net</code>刷新缓存。</p></li><li><p>最后，在友链配置中，就能用<code>https://cdn.jsdelivr.net/gh/[GithubUsername]/ScreenShot@gh-pages/[friend_link].jpg</code>来引用站点缩略图了。</p></li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> </span><br><span class="line">  <span class="attr">class_desc:</span> </span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">雷雷屋头</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://ll.sc.cn</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://ll.sc.cn/img/avatar.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">假装是个室内设计师的工地搬砖狗。</span></span><br><span class="line">      <span class="attr">siteshot:</span>   <span class="comment"># 留空则调用API自动截图</span></span><br></pre></td></tr></table></figure><ol start="9"><li>可能遇到的<code>bug</code></li></ol><ul><li>没有启动<code>Github Action</code>：请到仓库中找到<code>Action</code>，将其启用。</li><li>图片缓存未刷新：<code>purge.jsdelivr.net</code>的强制刷新也是玄学，这种时候只能等待了。或者手动发布<code>release</code>，然后使用版本号。这个是<code>jsdelivr</code>的使用技巧，不多做讨论。</li></ul><a class="btn-beautify block right pink larger" href="/posts/ab72/"   title="05-分类磁贴插件版"><i class="far fa-hand-point-right"></i><span>05-分类磁贴插件版</span></a><a class="btn-beautify block left pink larger" href="/posts/19a1/"   title="03-友链卡片样式"><i class="far fa-hand-point-left"></i><span>03-友链卡片样式</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】分类磁贴插件版</title>
    <link href="https://ll.sc.cn/posts/ab72/"/>
    <id>https://ll.sc.cn/posts/ab72/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><p>在博客根目录<code>[you_blog]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-categories-card --save</span><br></pre></td></tr></table></figure><h2 id="配置主题文件"><a href="#配置主题文件" class="headerlink" title="配置主题文件"></a>配置主题文件</h2><p>在主题配置文件<code>_config.butterfly.yml</code>中添加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-categories-card (分类磁贴)</span></span><br><span class="line"><span class="attr">categoryBar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">&#x27;/categories/&#x27;</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">page</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">column:</span> <span class="string">odd</span> <span class="comment"># odd：3列 | even：4列</span></span><br><span class="line">  <span class="attr">row:</span> <span class="number">2</span> <span class="comment">#显示行数，默认两行，超过行数切换为滚动显示</span></span><br><span class="line">  <span class="attr">message:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> </span><br><span class="line">      <span class="attr">cover:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> </span><br><span class="line">      <span class="attr">cover:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> </span><br><span class="line">      <span class="attr">cover:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> </span><br><span class="line">      <span class="attr">cover:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> </span><br><span class="line">      <span class="attr">cover:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> </span><br><span class="line">      <span class="attr">cover:</span> </span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span></span><br></pre></td></tr></table></figure><h2 id="隐藏原有分类"><a href="#隐藏原有分类" class="headerlink" title="隐藏原有分类"></a>隐藏原有分类</h2><p>在自定义<code>css</code>文件中，加入以下代码,将原分类显示隐藏；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 隐藏原有分类start */</span></span><br><span class="line"><span class="selector-id">#content-inner</span> <span class="selector-id">#page</span> <span class="selector-class">.category-lists</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 隐藏原有分类end */</span></span><br></pre></td></tr></table></figure><h2 id="参数释义"><a href="#参数释义" class="headerlink" title="参数释义"></a>参数释义</h2><table><thead><tr><th align="center">参数</th><th align="center">备选值/类型</th><th align="left">释义</th></tr></thead><tbody><tr><td align="center">priority</td><td align="center">number</td><td align="left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td align="center">enable</td><td align="center">true/false</td><td align="left">【<strong>必选</strong>】控制开关</td></tr><tr><td align="center">enable_page</td><td align="center">path/all</td><td align="left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为’/‘</td></tr><tr><td align="center">layout.type</td><td align="center">id/class</td><td align="left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td align="center">layout.name</td><td align="center">text</td><td align="left">【<strong>必选</strong>】挂载容器名称</td></tr><tr><td align="center">layout.index</td><td align="center">0和正整数</td><td align="left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td align="center">column</td><td align="center">odd/even</td><td align="left">【可选】显示列数，考虑到比例问题，只提供3列和4列，odd为3列， even为4列</td></tr><tr><td align="center">row</td><td align="center">number</td><td align="left">【可选】显示行数，默认两行，超过行数切换为滚动显示</td></tr><tr><td align="center">message.descr</td><td align="center">text</td><td align="left">分类描述,需要和你自己的文章分类一一对应。</td></tr><tr><td align="center">message.cover</td><td align="center">url</td><td align="left">分类背景,需要和你自己的文章分类一一对应。</td></tr><tr><td align="center">custom_css</td><td align="center">url</td><td align="left">【可选】自定义样式，会替换默认的css链接，可以下载文档给出的cdn链接后自主修改</td></tr></tbody></table><h2 id="遇到的Bug"><a href="#遇到的Bug" class="headerlink" title="遇到的Bug"></a>遇到的Bug</h2><ol><li>因为分类的排列顺序不是固定的，但<code>message</code>的顺序确实固定的，导致分类和描述对应关系错误，故<code>message</code>信息暂时留空。</li><li>点击分类跳到<code>404</code>页面，<code>F12</code>发现<code>A</code>标签的<code>onclick=&quot;pjax.loadUrl(&quot;categories/Windows/&quot;);&quot;</code>少了一个<code>/</code>故不能正常跳转;<br>解决办法：<br>打开<code>[you_blog]\node_modules\hexo-butterfly-categories-card\lib\html.pug</code>文件，修改如下代码：</li></ol><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.recent-post-item(style=&#x27;height:auto;width:100%;padding:0px;&#x27;)</span><br><span class="line">  #categoryBar</span><br><span class="line">    ul.categoryBar-list</span><br><span class="line">      if pjaxenable</span><br><span class="line">        each cl in categories_list</span><br><span class="line">          li.categoryBar-list-item(style=`background:url(` + cl.cover + `);`)</span><br><span class="line"><span class="deletion">-            a.categoryBar-list-link(onclick=`pjax.loadUrl(&quot;` + cl.path + `&quot;);` href=&#x27;javascript:void(0);&#x27;  )</span></span><br><span class="line"><span class="addition">+            a.categoryBar-list-link(onclick=`pjax.loadUrl(&quot;` + &quot;/&quot; + cl.path + `&quot;);` href=&#x27;javascript:void(0);&#x27;  )</span></span><br><span class="line">              span.categoryBar-list-text= cl.name</span><br><span class="line">              span.categoryBar-list-count= cl.length</span><br><span class="line">              span.categoryBar-list-descr= cl.descr</span><br><span class="line">      else</span><br><span class="line">        each cl in categories_list</span><br><span class="line">          li.categoryBar-list-item(style=`background:url(` + cl.cover + `);`)  </span><br><span class="line"><span class="deletion">-            a.categoryBar-list-link(href=cl.path)= cl.name</span></span><br><span class="line"><span class="addition">+            a.categoryBar-list-link(href=&quot;/&quot; + cl.path)= cl.name</span></span><br><span class="line">            span.categoryBar-list-count= cl.length</span><br><span class="line">            span.categoryBar-list-descr= cl.descr</span><br></pre></td></tr></table></figure><a class="btn-beautify block right pink larger" href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><i class="far fa-hand-point-right"></i><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify block left pink larger" href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><i class="far fa-hand-point-left"></i><span>04-站点图片批量半自动截图</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】侧边栏归档、分类修改</title>
    <link href="https://ll.sc.cn/posts/fe41/"/>
    <id>https://ll.sc.cn/posts/fe41/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="修改aside-archives-js"><a href="#修改aside-archives-js" class="headerlink" title="修改aside_archives.js"></a>修改aside_archives.js</h2><p>打开<code>[you_blog]\themes\butterfly\scripts\helpers\aside_archives.js</code>修改第<code>92</code>行左右。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">result += transform ? transform(item.name) : item.name</span><br><span class="line">result += &#x27;&lt;/span&gt;&#x27;</span><br><span class="line"></span><br><span class="line">if (showCount) &#123;</span><br><span class="line"><span class="deletion">- result += `&lt;span class=&quot;card-archive-list-count&quot;&gt;$&#123;item.count&#125;&lt;/span&gt;`</span></span><br><span class="line"><span class="addition">+ result += `&lt;div class=&quot;card-archive-list-count-group&quot;&gt;&lt;span class=&quot;card-archive-list-count&quot;&gt;$&#123;item.count&#125;&lt;/span&gt;&lt;span&gt;篇&lt;/span&gt;&lt;/div&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line">result += &#x27;&lt;/a&gt;&#x27;</span><br><span class="line">result += &#x27;&lt;/li&gt;&#x27;</span><br></pre></td></tr></table></figure><h2 id="增加css"><a href="#增加css" class="headerlink" title="增加css"></a>增加css</h2><p>在自定义<code>css</code>文件中添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 侧栏归档样式start */</span></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.card-archive-list-count</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0.9</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.card-archive-list-count-group</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">align-items</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span> &gt; <span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &gt; <span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.card-archive-list-count</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0.9</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.card-archive-list-date</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.card-category-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">31%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.card-archive-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">48%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span> &gt; <span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &gt; <span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#3b70fc</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">12px</span> -<span class="number">3px</span> <span class="number">#4259ef23</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">0.5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1300px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span> &gt; <span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &gt; <span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.03</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span> &gt; <span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:active</span>,</span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &gt; <span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.97</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span> &gt; <span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &gt; <span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-content</span>: space-between;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e3e8f7</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span> &gt; <span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-pseudo">:first</span>-child,</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &gt; <span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  <span class="attribute">flex</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span>,</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 侧栏归档样式end */</span></span><br></pre></td></tr></table></figure><a class="btn-beautify block right pink larger" href="/posts/857d/"   title="08-标签云增加文章数上下标"><i class="far fa-hand-point-right"></i><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify block left pink larger" href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><i class="far fa-hand-point-left"></i><span>06-添加侧边栏电子钟</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】标签云增加文章数上下标</title>
    <link href="https://ll.sc.cn/posts/857d/"/>
    <id>https://ll.sc.cn/posts/857d/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="修改page-js"><a href="#修改page-js" class="headerlink" title="修改page.js"></a>修改page.js</h2><p>在<code>[you_blog]\themes\butterfly\scripts\helpers\page.js</code>搜索<code>cloudTags</code>函数，找到绘制标签云的代码，增加<code>&lt;sup&gt;$&#123;tag.length&#125;&lt;/sup&gt;</code>或<code>&lt;sub&gt;$&#123;tag.length&#125;&lt;/sub&gt;</code>可绘制表示标签文章数的上下标。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">hexo.extend.helper.register(&#x27;cloudTags&#x27;, function (options = &#123;&#125;) &#123;</span><br><span class="line">  const theme = hexo.theme.config</span><br><span class="line">  const env = this</span><br><span class="line">  let source = options.source</span><br><span class="line">  const minfontsize = options.minfontsize</span><br><span class="line">  const maxfontsize = options.maxfontsize</span><br><span class="line">  const limit = options.limit</span><br><span class="line">  const unit = options.unit || &#x27;px&#x27;</span><br><span class="line"></span><br><span class="line">  let result = &#x27;&#x27;</span><br><span class="line">  if (limit &gt; 0) &#123;</span><br><span class="line">    source = source.limit(limit)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const sizes = []</span><br><span class="line">  source.sort(&#x27;length&#x27;).forEach(tag =&gt; &#123;</span><br><span class="line">    const &#123; length &#125; = tag</span><br><span class="line">    if (sizes.includes(length)) return</span><br><span class="line">    sizes.push(length)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  const length = sizes.length - 1</span><br><span class="line">  source.forEach(tag =&gt; &#123;</span><br><span class="line">    const ratio = length ? sizes.indexOf(tag.length) / length : 0</span><br><span class="line">    const size = minfontsize + ((maxfontsize - minfontsize) * ratio)</span><br><span class="line">    let style = `font-size: $&#123;parseFloat(size.toFixed(2))&#125;$&#123;unit&#125;;`</span><br><span class="line">    const color = &#x27;rgb(&#x27; + Math.floor(Math.random() * 201) + &#x27;, &#x27; + Math.floor(Math.random() * 201) + &#x27;, &#x27; + Math.floor(Math.random() * 201) + &#x27;)&#x27; // 0,0,0 -&gt; 200,200,200</span><br><span class="line">    style += ` color: $&#123;color&#125;`</span><br><span class="line"><span class="deletion">-   result += `&lt;a href=&quot;$&#123;env.url_for(tag.path)&#125;&quot; style=&quot;$&#123;style&#125;&quot;&gt;$&#123;tag.name&#125;&lt;/a&gt;`</span></span><br><span class="line"><span class="addition">+   result += `&lt;a href=&quot;$&#123;env.url_for(tag.path)&#125;&quot; style=&quot;$&#123;style&#125;&quot;&gt;$&#123;tag.name&#125;&lt;sup&gt;$&#123;tag.length&#125;&lt;/sup&gt;&lt;/a&gt;`</span></span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://blog.eurkon.com/post/6687849c.html">Butterfly 标签云增加文章数上下标</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/8e5e/"   title="09-顶部加载渐变条"><i class="far fa-hand-point-right"></i><span>09-顶部加载渐变条</span></a><a class="btn-beautify block left pink larger" href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><i class="far fa-hand-point-left"></i><span>07-侧边栏归档、分类修改</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】顶部加载渐变条</title>
    <link href="https://ll.sc.cn/posts/8e5e/"/>
    <id>https://ll.sc.cn/posts/8e5e/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="加入css"><a href="#加入css" class="headerlink" title="加入css"></a>加入css</h2><p>在自定义<code>css</code>文件中添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 顶部小进度条start */</span></span><br><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  -moz-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eaecf2</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span> ease-in;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -moz-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -ms-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -o-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);</span><br><span class="line">  <span class="attribute">animation</span>: gradient <span class="number">1.5s</span> ease infinite;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">200%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 顶部小进度条end */</span></span><br></pre></td></tr></table></figure><h2 id="引入-js"><a href="#引入-js" class="headerlink" title="引入 js"></a>引入 js</h2><p>在主题配置文件中的<code>inject</code>中引入<code>js</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 顶部小进度条</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">data-pjax</span> <span class="string">src=&quot;//npm.elemecdn.com/pace-js@1.2.4/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><a class="btn-beautify block right pink larger" href="/posts/6b2a/"   title="10-导航栏魔改"><i class="far fa-hand-point-right"></i><span>10-导航栏魔改</span></a><a class="btn-beautify block left pink larger" href="/posts/857d/"   title="08-标签云增加文章数上下标"><i class="far fa-hand-point-left"></i><span>08-标签云增加文章数上下标</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】导航栏魔改</title>
    <link href="https://ll.sc.cn/posts/6b2a/"/>
    <id>https://ll.sc.cn/posts/6b2a/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><p>看到<code>Heo</code>大佬的导航栏很喜欢，正好<code>Heo</code>大佬还出了教程，可是按照步骤操作了并没有实现，于是开始<code>F12</code>复刻，有了以下成果记录下来；</p><h2 id="修改nav-pug"><a href="#修改nav-pug" class="headerlink" title="修改nav.pug"></a>修改nav.pug</h2><p>修改文件<code>[you_blog]\themes\butterfly\layout\includes\header\nav.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line"><span class="addition">+  .nav-group</span></span><br><span class="line">    span#blog_name</span><br><span class="line"><span class="addition">+      a#site-name(href=url_for(&#x27;/&#x27;))</span></span><br><span class="line"><span class="addition">+        span#site-name-icon=config.name</span></span><br><span class="line">  #menus</span><br><span class="line">    !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+    span#page_name</span></span><br><span class="line"><span class="addition">+      a#page-title(title=_p(&quot;rightside.back_to_top&quot;) onclick=&quot;btf.scrollToDest(0, 500)&quot;)</span></span><br><span class="line"><span class="addition">+        span #[=config.title]</span></span><br><span class="line"><span class="addition">+  #nav-right</span></span><br><span class="line">    if (theme.algolia_search.enable || theme.local_search.enable)</span><br><span class="line">      #search-button</span><br><span class="line">        a.site-page.social-icon.search</span><br><span class="line">          i.fas.fa-search.fa-fw</span><br><span class="line">          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span><br><span class="line"><span class="addition">+    a.site-page.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;, title=&#x27;浅色和深色模式转换&#x27;, data-pjax-state)</span></span><br><span class="line"><span class="addition">+      i.fas.fa-moon.fa-fw</span></span><br><span class="line"><span class="addition">+    if (theme.travellings.enable)</span></span><br><span class="line"><span class="addition">+      a.site-page#travellings(target=&#x27;_blank&#x27;, title=theme.travellings.title, href=theme.travellings.link)</span></span><br><span class="line"><span class="addition">+        i.fas.fa-subway</span></span><br><span class="line"><span class="addition">+    if (theme.foreverblog.enable)</span></span><br><span class="line"><span class="addition">+      a.site-page#foreverblog(target=&#x27;_blank&#x27;, title=theme.foreverblog.title, href=theme.foreverblog.link)</span></span><br><span class="line"><span class="addition">+        svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, x=&#x27;0px&#x27;, y=&#x27;0px&#x27;, width=&#x27;200&#x27;, height=&#x27;200&#x27;, viewBox=&#x27;0 0 200 200&#x27;)</span></span><br><span class="line"><span class="addition">+          path(d=&#x27;M100,12.52A87.49,87.49,0,1,0,187.5,100,87.49,87.49,0,0,0,100,12.52ZM128.54,150H84.11a6,6,0,0,1-6-6v-8.55a6,6,0,0,1,6-6H125.9a11.32,11.32,0,0,0,0-22.62v0H84.61a6.5,6.5,0,0,1-6.5-6.49V92.77a6.5,6.5,0,0,1,6.5-6.49h41.9a10.27,10.27,0,0,0,0-20.54H75.21A12.71,12.71,0,0,0,62.5,78.45v64.82A6.74,6.74,0,0,1,55.77,150h-3.6a6.73,6.73,0,0,1-6.73-6.73V73.42A28.21,28.21,0,0,1,73.65,45.2h53a29.74,29.74,0,0,1,19.3,51.72,31.18,31.18,0,0,1,9.71,22.91C155.62,136.24,143.56,149.58,128.54,150Z&#x27;)</span></span><br><span class="line">  #toggle-menu</span><br><span class="line">    a.site-page</span><br><span class="line">      i.fas.fa-bars.fa-fw</span><br></pre></td></tr></table></figure><h2 id="custom-scss"><a href="#custom-scss" class="headerlink" title="custom.scss"></a>custom.scss</h2><p>在<code>source\css</code>文件夹下新建<code>custom.scss</code>文件并加入以下代码：</p><p>也可以编译成<code>css</code>加入到自定义的<code>css</code>文件中。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#page-header</span> &#123;</span><br><span class="line">  <span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="comment">// 固定在顶端</span></span><br><span class="line">    &amp;<span class="selector-class">.show</span> &#123;</span><br><span class="line">      <span class="attribute">position</span>: fixed;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5%</span>;</span><br><span class="line">    <span class="comment">/* 左侧文字 */</span></span><br><span class="line">    <span class="comment">/* ================================= */</span></span><br><span class="line">    <span class="selector-class">.nav-group</span> &#123;</span><br><span class="line">      <span class="attribute">flex</span>:<span class="number">1</span>;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: flex-start;</span><br><span class="line">      <span class="selector-id">#blog_name</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: relative;</span><br><span class="line">        <span class="attribute">display</span>: inline-block;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1.5em</span>;</span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-id">#site-name</span> &#123;</span><br><span class="line">          &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">            <span class="attribute">transition</span>: <span class="number">0.1s</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">            <span class="attribute">background</span>: <span class="built_in">var</span>(--blue) <span class="meta">!important</span>;</span><br><span class="line">            &amp;&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="selector-tag">span</span><span class="selector-id">#site-name-icon</span> &#123;</span><br><span class="line">              <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            &amp;<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">              <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="selector-tag">span</span><span class="selector-id">#site-name-icon</span> &#123;</span><br><span class="line">            <span class="attribute">transition</span>: .<span class="number">2s</span>;</span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          &amp;<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">            <span class="attribute">background</span>: <span class="built_in">url</span>(/img/home.png) no-repeat <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">position</span>: absolute;</span><br><span class="line">            <span class="attribute">display</span>: flex;</span><br><span class="line">            <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">132px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">            <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">            <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="attribute">transition</span>: .<span class="number">2s</span>;</span><br><span class="line">            <span class="attribute">transition-timing-function</span>: ease-in;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 中间菜单 */</span></span><br><span class="line">    <span class="comment">/* ================================= */</span></span><br><span class="line">    <span class="selector-id">#menus</span> &#123;</span><br><span class="line">      <span class="selector-id">#page_name</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">justify-content</span>: center;</span><br><span class="line">        <span class="attribute">align-items</span>: center;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">60px</span>);</span><br><span class="line">        &amp;&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">          <span class="attribute">font-weight</span>: bold;</span><br><span class="line">          <span class="attribute">letter-spacing</span>: <span class="number">2px</span>;</span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">          &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">            <span class="attribute">background</span>: <span class="built_in">var</span>(--blue) <span class="meta">!important</span>;</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--fillet);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="attribute">flex</span>:<span class="number">3</span>;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: center;</span><br><span class="line">      <span class="comment">/* 垂直居中 */</span></span><br><span class="line">      <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">align-items</span>: center;</span><br><span class="line">        <span class="selector-class">.menus_item</span> &#123;</span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">          &amp;&gt;<span class="selector-tag">a</span><span class="selector-class">.site-page</span> &#123;</span><br><span class="line">            <span class="attribute">display</span>: flex;</span><br><span class="line">            <span class="attribute">align-items</span>: center;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">2.5em</span>;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">            <span class="selector-tag">span</span> &#123;</span><br><span class="line">              <span class="attribute">margin-left</span>: <span class="number">4px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">/* 鼠标移上去效果 */</span></span><br><span class="line">          &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">            <span class="attribute">transition</span>: <span class="number">0.1s</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">            <span class="attribute">background</span>: <span class="built_in">var</span>(--blue) <span class="meta">!important</span>;</span><br><span class="line">            <span class="comment">// border: 1px solid var(--white);</span></span><br><span class="line">            &amp;&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">              <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">/* 下拉菜单 */</span></span><br><span class="line">          <span class="comment">/* ==================== */</span></span><br><span class="line">          <span class="comment">/* 下拉菜单鼠标移上去效果 */</span></span><br><span class="line">          <span class="selector-tag">ul</span><span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">12px</span>;</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--blue);</span><br><span class="line">            <span class="selector-tag">li</span> &#123;</span><br><span class="line">              <span class="attribute">display</span>: flex;</span><br><span class="line">              <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">              &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">                  <span class="attribute">background</span>: <span class="built_in">var</span>(--blue) <span class="meta">!important</span>;</span><br><span class="line">                  <span class="selector-tag">a</span><span class="selector-class">.site-page</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">                    <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;</span><br><span class="line">              <span class="selector-tag">a</span><span class="selector-class">.site-page</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">                <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">10px</span>;</span><br><span class="line">                <span class="attribute">align-items</span>: center;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 右侧按钮 */</span></span><br><span class="line">    <span class="comment">/* ================================= */</span></span><br><span class="line">    <span class="selector-id">#nav-right</span> &#123;</span><br><span class="line">      <span class="attribute">flex</span>:<span class="number">1</span>;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-class">.site-page</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">2.5em</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">2.5em</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">align-items</span>: center;</span><br><span class="line">        <span class="attribute">justify-content</span>: center;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">40px</span>;</span><br><span class="line">        <span class="attribute">position</span>: relative;</span><br><span class="line">        <span class="attribute">cursor</span>: pointer;</span><br><span class="line">        <span class="selector-tag">i</span> &#123;</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        svg &#123;</span><br><span class="line">          <span class="attribute">height</span>: <span class="number">27px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">          <span class="attribute">background</span>: <span class="built_in">var</span>(--blue) <span class="meta">!important</span>;</span><br><span class="line">          svg path &#123;</span><br><span class="line">            fill: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="selector-tag">i</span> &#123;</span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--white) <span class="meta">!important</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 取消下划线 */</span></span><br><span class="line">    <span class="selector-class">.site-page</span><span class="selector-pseudo">:not</span>(.child)<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 颜色</span></span><br><span class="line">  &amp;<span class="selector-class">.full_page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.not-home-page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.post-bg</span> &#123;</span><br><span class="line">    <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">      fill: <span class="number">#eee</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;<span class="selector-class">.nav-fixed</span> &#123;</span><br><span class="line">      <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">        fill: <span class="number">#4b4948</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-class">.not-home-page</span> &#123;</span><br><span class="line">    &amp;<span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">      fill: <span class="number">#4b4948</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-class">.not-top-img</span> &#123;</span><br><span class="line">    <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">      fill: <span class="number">#4c4948</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;<span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">      fill: <span class="number">#4b4948</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 滑动标题显示于隐藏</span></span><br><span class="line">  &amp;<span class="selector-class">.full_page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.not-home-page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.post-bg</span>,</span><br><span class="line">  &amp;<span class="selector-class">.not-home-page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.not-top-img</span> &#123;</span><br><span class="line">    &amp;<span class="selector-class">.nav-fixed</span> &#123;</span><br><span class="line">      <span class="selector-id">#page_name</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0px</span>) <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease-in-out, opacity <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">60px</span>) <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease-in-out, opacity <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;<span class="selector-class">.nav-visible</span> &#123;</span><br><span class="line">        <span class="selector-id">#page_name</span> &#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">60px</span>) <span class="meta">!important</span>;</span><br><span class="line">          <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease-in-out, opacity <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0px</span>) <span class="meta">!important</span>;</span><br><span class="line">          <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease-in-out, opacity <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-id">#nav</span><span class="selector-class">.show</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">var</span>(--global-bg);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#page_name</span> &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 取消滚动动画</span></span><br><span class="line">  &amp;<span class="selector-class">.nav-visible</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-id">#page-header</span> &#123;</span><br><span class="line">  &amp;<span class="selector-class">.full_page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.not-home-page</span>,</span><br><span class="line">  &amp;<span class="selector-class">.not-top-img</span>,</span><br><span class="line">  &amp;<span class="selector-class">.post-bg</span> &#123;</span><br><span class="line">    <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">      fill: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.7</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;<span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span> svg path &#123;</span><br><span class="line">      fill: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.7</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="mobile-scss"><a href="#mobile-scss" class="headerlink" title="mobile.scss"></a>mobile.scss</h2><p>在<code>source\css</code>文件夹下新建<code>mobile.scss</code>文件并加入以下代码：</p><p>也可以编译成<code>css</code>加入到自定义的<code>css</code>文件中。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#nav</span> <span class="selector-id">#menus</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#nav</span> <span class="selector-class">.nav-group</span> <span class="selector-id">#blog_name</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.2em</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#sidebar-menus</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.site-page</span> &gt; <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#content-inner</span> <span class="selector-id">#recent-posts</span> <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20em</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.article-sort</span> <span class="selector-class">.article-sort-item</span> <span class="selector-class">.article-sort-item-info</span> <span class="selector-class">.article-sort-item-index</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#aside-content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#page-header</span> <span class="selector-id">#site-info</span> <span class="selector-id">#site-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.5em</span>;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">2px</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#page-header</span> <span class="selector-id">#site-info</span> <span class="selector-id">#site-subtitle</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#page-header</span> <span class="selector-id">#page-site-info</span> <span class="selector-id">#site-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">2px</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#footer</span> <span class="selector-id">#footer-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="自定义js"><a href="#自定义js" class="headerlink" title="自定义js"></a>自定义js</h2><p>在自定义<code>js</code>文件中添加如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 页面标题start</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = page_title;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">page_title</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;page-title&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span> === <span class="string">&#x27;/&#x27;</span> || <span class="regexp">/^\/page\/[0-9]+\//</span>.<span class="title function_">test</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#page-title&gt;span&#x27;</span>).<span class="property">innerHTML</span> = <span class="variable constant_">GLOBAL_CONFIG_SITE</span>.<span class="property">title</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 页面标题end</span></span><br></pre></td></tr></table></figure><h2 id="修改main-js"><a href="#修改main-js" class="headerlink" title="修改main.js"></a>修改main.js</h2><p>修改文件<code>[you_blog]\Blog\Hexo_butterfly\themes\butterfly\source\js\main.js</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * 滾動處理</span><br><span class="line">  */</span><br><span class="line">const scrollFn = function () &#123;</span><br><span class="line">  const $rightside = document.getElementById(&#x27;rightside&#x27;)</span><br><span class="line">  const innerHeight = window.innerHeight + 56</span><br><span class="line"></span><br><span class="line">  // 當滾動條小于 56 的時候</span><br><span class="line">  if (document.body.scrollHeight &lt;= innerHeight) &#123;</span><br><span class="line">    $rightside.style.cssText = &#x27;opacity: 1; transform: translateX(-58px)&#x27;</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // find the scroll direction</span><br><span class="line">  function scrollDirection (currentTop) &#123;</span><br><span class="line">    const result = currentTop &gt; initTop // true is down &amp; false is up</span><br><span class="line">    initTop = currentTop</span><br><span class="line">    return result</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let initTop = 0</span><br><span class="line"><span class="deletion">-  let isChatShow = true</span></span><br><span class="line">  const $header = document.getElementById(&#x27;page-header&#x27;)</span><br><span class="line"><span class="deletion">-  const isChatBtnHide = typeof chatBtnHide === &#x27;function&#x27;</span></span><br><span class="line"><span class="deletion">-  const isChatBtnShow = typeof chatBtnShow === &#x27;function&#x27;</span></span><br><span class="line"><span class="deletion">-</span></span><br><span class="line">  const scrollTask = btf.throttle(() =&gt; &#123;</span><br><span class="line">      const currentTop = window.scrollY || document.documentElement.scrollTop</span><br><span class="line">      const isDown = scrollDirection(currentTop)</span><br><span class="line">      if (currentTop &gt; 56) &#123;</span><br><span class="line">        if (isDown) &#123;</span><br><span class="line">          if ($header.classList.contains(&#x27;nav-visible&#x27;)) $header.classList.remove(&#x27;nav-visible&#x27;)</span><br><span class="line"><span class="deletion">-          if (isChatBtnShow &amp;&amp; isChatShow === true) &#123;</span></span><br><span class="line"><span class="deletion">-            chatBtnHide()</span></span><br><span class="line"><span class="deletion">-            isChatShow = false</span></span><br><span class="line"><span class="deletion">-          &#125;</span></span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          if (!$header.classList.contains(&#x27;nav-visible&#x27;)) $header.classList.add(&#x27;nav-visible&#x27;)</span><br><span class="line"><span class="deletion">-          if (isChatBtnHide &amp;&amp; isChatShow === false) &#123;</span></span><br><span class="line"><span class="deletion">-            chatBtnShow()</span></span><br><span class="line"><span class="deletion">-            isChatShow = true</span></span><br><span class="line"><span class="deletion">-          &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">        $header.classList.add(&#x27;nav-fixed&#x27;)</span><br><span class="line">        if (window.getComputedStyle($rightside).getPropertyValue(&#x27;opacity&#x27;) <span class="comment">=== &#x27;0&#x27;) &#123;</span></span><br><span class="line">          $rightside.style.cssText = &#x27;opacity: 0.8; transform: translateX(-58px)&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (currentTop <span class="comment">=== 0) &#123;</span></span><br><span class="line">          $header.classList.remove(&#x27;nav-fixed&#x27;, &#x27;nav-visible&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">        $rightside.style.cssText = &quot;opacity: &#x27;&#x27;; transform: &#x27;&#x27;&quot;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      if (document.body.scrollHeight &lt;= innerHeight) &#123;</span><br><span class="line">        $rightside.style.cssText = &#x27;opacity: 0.8; transform: translateX(-58px)&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, 200)</span><br><span class="line">  </span><br><span class="line">  window.scrollCollect = scrollTask</span><br><span class="line"></span><br><span class="line">  window.addEventListener(&#x27;scroll&#x27;, scrollCollect)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a class="btn-beautify block right pink larger" href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><i class="far fa-hand-point-right"></i><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify block left pink larger" href="/posts/8e5e/"   title="09-顶部加载渐变条"><i class="far fa-hand-point-left"></i><span>09-顶部加载渐变条</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】返回顶部按钮显示网页阅读进度</title>
    <link href="https://ll.sc.cn/posts/6bea/"/>
    <id>https://ll.sc.cn/posts/6bea/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="修改rightside-pug"><a href="#修改rightside-pug" class="headerlink" title="修改rightside.pug"></a>修改rightside.pug</h2><p>修改文件<code>[you_blog]\themes\butterfly\layout\includes\rightside.pug</code>，在最下面插入以下代码</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  button#go-up(type=&quot;button&quot; title=_p(&quot;rightside.back_to_top&quot;))</span><br><span class="line">    i.fas.fa-arrow-up</span><br><span class="line"><span class="addition">+   span#percent 0</span></span><br></pre></td></tr></table></figure><h2 id="增加js"><a href="#增加js" class="headerlink" title="增加js"></a>增加js</h2><p>在自定义<code>js</code>文件中加入以下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回顶部显示网页阅读进度 start</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = percent;<span class="comment">// 执行函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">percent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">window</span>.<span class="property">pageYOffset</span>, <span class="comment">// 卷去高度</span></span><br><span class="line">        b = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>, <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span>, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">offsetHeight</span>, <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">offsetHeight</span>, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span>, <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>) - <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>, <span class="comment">// 整个网页高度</span></span><br><span class="line">        result = <span class="title class_">Math</span>.<span class="title function_">round</span>(a / b * <span class="number">100</span>), <span class="comment">// 计算百分比</span></span><br><span class="line">        up = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#go-up&quot;</span>) <span class="comment">// 获取按钮</span></span><br><span class="line">    <span class="keyword">if</span> (result &lt;= <span class="number">95</span>) &#123;</span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">innerHTML</span> = result;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">        up.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 返回顶部显示网页阅读进度 end</span></span><br></pre></td></tr></table></figure><h2 id="增加css"><a href="#增加css" class="headerlink" title="增加css"></a>增加css</h2><p>在自定义<code>css</code>文件中添加以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 返回顶部显示网页阅读进度 start */</span></span><br><span class="line"><span class="comment">/* 返回顶部 */</span></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span> <span class="selector-id">#percent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span><span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: -<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标滑动到按钮上时显示返回顶部图标 */</span></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-id">#go-up</span><span class="selector-pseudo">:hover</span> <span class="selector-id">#percent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 返回顶部显示网页阅读进度 end */</span></span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://blog.leonus.cn/2022/percent.html">返回顶部显示网页阅读进度</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><i class="far fa-hand-point-right"></i><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify block left pink larger" href="/posts/6b2a/"   title="10-导航栏魔改"><i class="far fa-hand-point-left"></i><span>10-导航栏魔改</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>【butterfly】添加白天夜间模式转换动画</title>
    <link href="https://ll.sc.cn/posts/20b1/"/>
    <id>https://ll.sc.cn/posts/20b1/</id>
    <published>2022-10-28T05:09:16.000Z</published>
    <updated>2022-11-09T10:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note green icon-padding flat"><i class="note-icon fas fa-rocket"></i><p> 📚  文档目录</p><p><a class="btn-beautify " href="/posts/a58c/"   title="01-添加自定义css和js文件"><span>01-添加自定义css和js文件</span></a><a class="btn-beautify " href="/posts/3bf4/"   title="02-footer栏"><span>02-footer栏</span></a><a class="btn-beautify " href="/posts/19a1/"   title="03-友链卡片样式"><span>03-友链卡片样式</span></a><a class="btn-beautify " href="/posts/ddd2/"   title="04-站点图片批量半自动截图"><span>04-站点图片批量半自动截图</span></a><a class="btn-beautify " href="/posts/ab72/"   title="05-分类磁贴插件版"><span>05-分类磁贴插件版</span></a><a class="btn-beautify " href="/posts/f0ec/"   title="06-添加侧边栏电子钟"><span>06-添加侧边栏电子钟</span></a><a class="btn-beautify " href="/posts/fe41/"   title="07-侧边栏归档、分类修改"><span>07-侧边栏归档、分类修改</span></a><a class="btn-beautify " href="/posts/857d/"   title="08-标签云增加文章数上下标"><span>08-标签云增加文章数上下标</span></a><a class="btn-beautify " href="/posts/8e5e/"   title="09-顶部加载渐变条"><span>09-顶部加载渐变条</span></a><a class="btn-beautify " href="/posts/6b2a/"   title="10-导航栏魔改"><span>10-导航栏魔改</span></a><a class="btn-beautify " href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><span>11.1-返回顶部按钮显示网页阅读进度</span></a><a class="btn-beautify " href="/posts/20b1/"   title="11.2-添加白天夜间模式转换动画"><span>11.2-添加白天夜间模式转换动画</span></a><a class="btn-beautify " href="/posts/f3da/"   title="11.3-增加分享本页"><span>11.3-增加分享本页</span></a><a class="btn-beautify " href="/posts/7698/"   title="11.4-直达底部"><span>11.4-直达底部</span></a><a class="btn-beautify " href="/posts/af55/"   title="12-添加51统计"><span>12-添加51统计</span></a><a class="btn-beautify " href="/posts/d903/"   title="13-404页面展示最近文章"><span>13-404页面展示最近文章</span></a><a class="btn-beautify " href="/posts/7a0c/"   title="14-分类标签归档页增加文章索引"><span>14-分类标签归档页增加文章索引</span></a><a class="btn-beautify " href="/posts/bc28/"   title="15-新标签打开文章"><span>15-新标签打开文章</span></a><a class="btn-beautify " href="/posts/6eca/"   title="16-使用Algolia搜索"><span>16-使用Algolia搜索</span></a><a class="btn-beautify " href="/posts/62f6/"   title="17-文章双栏布局插件"><span>17-文章双栏布局插件</span></a><a class="btn-beautify " href="/posts/4c4e/"   title="18-动态分类标签导航栏"><span>18-动态分类标签导航栏</span></a><a class="btn-beautify " href="/posts/8589/"   title="19-增加评论热评轮播功能"><span>19-增加评论热评轮播功能</span></a></p></div><h2 id="新建sun-moon-pug"><a href="#新建sun-moon-pug" class="headerlink" title="新建sun_moon.pug"></a>新建sun_moon.pug</h2><p>在<code>[you_blog]\themes\butterfly\layout\includes\custom\</code>文件夹下，新建<code>sun_moon.pug</code>文件,这部分是一个<code>svg</code>文件，通过<code>js</code>操作它的旋转显隐，淡入淡出实现动画效果。</p><figure class="highlight svg"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=&#x27;true&#x27;, style=&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;)</span><br><span class="line">  symbol#icon-sun(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;, fill=&#x27;#FFD878&#x27;, p-id=&#x27;8420&#x27;)</span><br><span class="line">    path(d=&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;, fill=&#x27;#FFE4A9&#x27;, p-id=&#x27;8421&#x27;)</span><br><span class="line">    path(d=&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8422&#x27;)</span><br><span class="line">    path(d=&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8423&#x27;)</span><br><span class="line">  symbol#icon-moon(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;, fill=&#x27;#FFB531&#x27;, p-id=&#x27;11345&#x27;)</span><br><span class="line">    path(d=&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z&#x27;, fill=&#x27;#030835&#x27;, p-id=&#x27;11346&#x27;)</span><br></pre></td></tr></table></figure><h2 id="增加css"><a href="#增加css" class="headerlink" title="增加css"></a>增加css</h2><p>在自定义<code>css</code>文件中，加入以下代码；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 白天夜晚切换动画start */</span></span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span>, <span class="selector-class">.Cuteen_DarkSky</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">88888888</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">#feb8b0</span>, <span class="number">#fef9db</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">2s</span> ease all;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">#4c3f6d</span>, <span class="number">#6c62bb</span>, <span class="number">#93b1ed</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.DarkMode</span> <span class="selector-class">.Cuteen_DarkSky</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">99999999</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200%</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: CuteenPlanetMove <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="attribute">animation</span>: CuteenPlanetMove <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: center bottom;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line"> &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">35%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">40%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">9.375rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">9.375rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">#fefefe</span>, <span class="number">#fffbe8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.menus_item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon-V</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line"> &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line"> &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-o-keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line"> &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line"> &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 白天夜晚切换动画end */</span></span><br></pre></td></tr></table></figure><h2 id="增加js"><a href="#增加js" class="headerlink" title="增加js"></a>增加js</h2><p>在自定义<code>js</code>文件中，加入以下代码；</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 白天夜晚切换动画start</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchNightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>),</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;DarkMode&#x27;</span>) ? (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)) : (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)),</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;opacity 3s&#x27;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">            &#125;, <span class="number">1e3</span>);</span><br><span class="line">            &#125;, <span class="number">2e3</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 白天夜晚切换动画end</span></span><br></pre></td></tr></table></figure><h2 id="引用sun-moon-pug"><a href="#引用sun-moon-pug" class="headerlink" title="引用sun_moon.pug"></a>引用sun_moon.pug</h2><p>修改<code>[you_blog]\themes\butterfly\layout\includes\head.pug</code>,在文件末位增加以下代码：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  //- global config</span><br><span class="line">  !=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">  include ./head/config_site.pug</span><br><span class="line">  include ./head/noscript.pug</span><br><span class="line"></span><br><span class="line">  !=fragment_cache(&#x27;injectHeadJs&#x27;, function()&#123;return inject_head_js()&#125;)</span><br><span class="line"></span><br><span class="line">  !=fragment_cache(&#x27;injectHead&#x27;, function()&#123;return injectHtml(theme.inject.head)&#125;)</span><br><span class="line"><span class="addition">+ include ./custom/sun_moon.pug</span></span><br></pre></td></tr></table></figure><h2 id="替换昼夜切换按钮"><a href="#替换昼夜切换按钮" class="headerlink" title="替换昼夜切换按钮"></a>替换昼夜切换按钮</h2><p>修改<code>[you_blog]\themes\butterfly\layout\includes\rightside.pug</code>,替换原本的昼夜切换按钮；</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  when &#x27;translate&#x27;</span><br><span class="line">    if translate.enable</span><br><span class="line">      button#translateLink(type=&quot;button&quot; title=_p(&#x27;rightside.translate_title&#x27;))= translate.default</span><br><span class="line">  when &#x27;darkmode&#x27;</span><br><span class="line">    if darkmode.enable &amp;&amp; darkmode.button</span><br><span class="line"><span class="deletion">-     button#darkmode(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;))</span></span><br><span class="line"><span class="deletion">-       i.fas.fa-adjust</span></span><br><span class="line"><span class="addition">+     a.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;,  title=_p(&#x27;rightside.night_mode_title&#x27;))</span></span><br><span class="line"><span class="addition">+       svg(width=&#x27;25&#x27;, height=&#x27;25&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;)</span></span><br><span class="line"><span class="addition">+         use#modeicon(xlink:href=&#x27;#icon-moon&#x27;)</span></span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://akilar.top/posts/d9550c81/">添加白天夜间模式转换动画</a></li></ul><a class="btn-beautify block right pink larger" href="/posts/f3da/"   title="11.3-增加分享本页"><i class="far fa-hand-point-right"></i><span>11.3-增加分享本页</span></a><a class="btn-beautify block left pink larger" href="/posts/6bea/"   title="11.1-返回顶部按钮显示网页阅读进度"><i class="far fa-hand-point-left"></i><span>11.1-返回顶部按钮显示网页阅读进度</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note green icon-padding flat&quot;&gt;&lt;i class=&quot;note-icon fas fa-rocket&quot;&gt;&lt;/i&gt;&lt;p&gt; 📚  文档目录&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;btn-beautify &quot; href=&quot;/posts/a</summary>
      
    
    
    
    <category term="爱折腾" scheme="https://ll.sc.cn/categories/%E7%88%B1%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="Hexo" scheme="https://ll.sc.cn/tags/Hexo/"/>
    
    <category term="主题" scheme="https://ll.sc.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
    <category term="butterfly个性化配置" scheme="https://ll.sc.cn/tags/butterfly%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
</feed>
